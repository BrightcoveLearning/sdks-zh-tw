---
title: '來自 JSON 的視頻和播放列表對象' 
description:在本主題中，您將學習如何通過使用所需的 JSON 格式數據調用適用於 Android 的 Brightcove Native SDK 中的幫助程序方法來創建可播放的視頻和播放列表對象。
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
<section class="bcls-section">
<h2 id="Overview">概述</h2>

<p>從版本6.2.0+開始，適用於Android的Brightcove本機SDK支持從JSON對象創建視頻和播放列表對象的方法。</p>

<p>如果您想使用服務器端代理從 Brightcove 帳戶檢索視頻和播放列表數據，這將非常有用。使用這種方法，您不會在應用程序的客戶端公開您的策略密鑰。</p>

<p>要創建可播放的視頻和播放列表對象，請執行以下操作：</p>

<ol class="bcls-tasklist">
	<li>可選的：在服務器端調用Playback API，以返回您的視頻或播放列表數據。</li>
	<li>根據以下必填字段創建JSON格式的對象。</li>
	<li>傳遞JSON格式的對象並調用適當的方法來創建以下內容：
	<ul>
		<li><a href="#Video_objects">視頻對象</a></li>
		<li><a href="#Playlist_objects">播放清單物件</a></li>
	</ul>
	</li>
	<li>將返回的視頻或播放列表加載到播放器中。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Video_objects">視頻對象</h2>

<p>要創建視頻對象，請將以下信息傳遞給<code translate="No">buildVideoFromJSON()</code>方法：</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>場地</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">account_id</code></td>
			<td>與視頻關聯的帳戶 ID</td>
		</tr>
		<tr>
			<td><code translate="No">id</code></td>
			<td>視頻標識</td>
		</tr>
		<tr>
			<td><code translate="No">sources</code></td>
			<td>視頻源的JSON數組。數組中的每個源必須具有：
			<ul>
				<li>帶有有效URL的src字段</li>
				<li>對於HLS或DASH內容，帶有內容的MIME類型的類型字段</li>
				<li>對於MP4內容，其值為一個容器字段<strong>MP4</strong></li>
			</ul>
			</td>
		</tr>
		<tr>
			<td><code translate="No">duration</code></td>
			<td>以毫秒為單位的視頻持續時間</td>
		</tr>
	</tbody>
</table>
<br/>

<p>當您的服務器端代理返回視頻數據時，使用上表中指定的值構建一個 JSON 對象字符串。</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "account_id": "3636334163001",
  "sources": [
  {
    "src": "http://f1.media.brightcove.com/4/36356334163001/3636334163001_3637454559001_Cascada-Teaser.mp4",
    "container": "MP4"
  }, {
    "type": "application/x-mpegURL",
    "src": "http://c.brightcove.com/services/mobile/streaming/index/master.m3u8"
  }],
  "id": "3637780364001",
  "duration": 74700
}</code></pre>
<br/>

<p>將JSON字符串轉換為JSON對象，並將其傳遞給。<code translate="No">buildVideoFromJSON()</code>方法：</p>

<pre class="line-numbers">
<code class="language-java" translate="No">try {
   JSONObject jsonObject = new JSONObject(response);
   Video video = VideoParser.buildVideoFromJSON(jsonObject, eventEmitter);
  } catch (JSONException e) {
    e.printStackTrace();
  } catch (VideoParseException e) {
    e.printStackTrace();
  }</code></pre>
</section>

<section class="bcls-section">
<h2 id="Playlist_objects">播放清單物件</h2>

<p>要創建播放列表對象，請將以下信息傳遞給<code translate="No">buildPlaylistFromJSON()</code>方法：</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>場地</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">account_id</code></td>
			<td>與視頻關聯的帳戶 ID</td>
		</tr>
		<tr>
			<td><code translate="No">id</code></td>
			<td>視頻標識</td>
		</tr>
		<tr>
			<td><code translate="No">videos</code></td>
			<td>視頻對象的JSON數組。這包括必填字段，如<a href="#Video_objects">視頻對象</a>部分。</td>
		</tr>
		<tr>
			<td><code translate="No">duration</code></td>
			<td>以毫秒為單位的視頻持續時間</td>
		</tr>
	</tbody>
</table>
<br/>

<p>當您的服務器端代理返回播放列表數據時，使用上表中指定的值構建一個 JSON 對象字符串。</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "id": "4970066630001",
  "account_id": "3636335163001",
  "name": "token auth playlist",
  "videos": [{
    "account_id": "3636335763001",
    "id": "4973773347001",
    "sources": [{
      "type": "application/dash+xml",
      "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/3636334163001/201606/1923/3636334163001_4973820156001_4973773237001.mpd"
    }],
    "duration": 29000
    },
    {
    "account_id": "3636334463001",
    "id": "4973766826001",
    "sources": [{
      "type": "application/dash+xml",
      "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/3636334163001/201606/2933/3636334163001_4973816542001_4973737826001.mpd"
    }],
    "duration": 29000
    }
  ]
}</code></pre>
<br/>

<p>將JSON字符串轉換為JSON對象，並將其傳遞給<code translate="No">buildPlaylistFromJSON()</code>方法：</p>

<pre class="line-numbers">
<code class="language-java" translate="No">try {
   JSONObject jsonObject = new JSONObject(response);
   Playlist playlist = VideoParser.buildPlaylistFromJSON(jsonObject, eventEmitter);
  } catch (JSONException e) {
    e.printStackTrace();
  } catch (VideoParseException e) {
    e.printStackTrace();
  }</code></pre>
</section>

<section class="bcls-section">
<h2 id="Notes">筆記</h2>

<p>如果您的內容受TTL（生存時間）控制，並且您想創建一個長期存在的視頻對象，則需要確保它可以繼續播放。這是在您使用的 CDN 上配置的。</p>
</section>
</article>