---
title: '自定義 Android TV 控件' 
description:在本主題中，您將學習如何為 Android TV 自定義快退和快進按鈕。
parent: Connected TV 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">介紹</h2>

<p>Brightcove 電視媒體控制器有一個倒帶按鈕和一個快進按鈕。當您單擊這些按鈕中的任何一個時，默認設置是向後或向前搜索 3 秒。</p>
<p>
  當您按住任一按鈕時，搜索位置將以每 40 毫秒 3 秒的速度更新內容。這意味著每秒按住快退或快進按鈕將前進 75 秒。
</p>

</section>

<section class="bcls-section">
<h2 id="Configuring_seek_buttons">配置搜尋按鈕</h2>

<p>快退和快進按鈕可以通過<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>事件。</p>
<p>
  為簡單起見，由於以下屬性適用於這兩個按鈕，因此我們將這兩個按鈕中的任何一個都稱為“查找"按鈕。
</p>
<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>活動屬性</th>
			<th>默認值</th>
      <th>描述</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">Event.SEEK_DEFAULT</code></td>
			<td>3000毫秒</td>
      <td>搜索按鈕將搜索到的默認搜索值（以毫秒為單位）。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_RELATIVE_ENABLED</code></td>
			<td>錯誤的</td>
      <td>如果啟用，則允許搜索值相對於由<code translate="No">EventType.VIDEO_DURATION_CHANGED</code>事件。百分比由<code translate="No">Event.SEEK_PERCENTAGE</code> .</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_PERCENTAGE</code></td>
			<td>1％</td>
      <td>相對於用於計算默認搜索值的視頻持續時間的百分比。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_ON_HOLD_WAIT_TIME</code></td>
			<td>500毫秒</td>
      <td>等待按鍵事件被視為長按而不是常規按下的時間（以毫秒為單位）。</td>
		</tr>
    <tr>
			<td><code translate="No">Event.SEEK_ON_HOLD_UPDATE_FREQ</code></td>
			<td>40毫秒</td>
      <td>用於發送的時間（以毫秒為單位）<code translate="No">EventType.SEEKBAR_DRAGGING_PROGRESS</code>事件以更新媒體控制器搜索欄。</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="Customizing_event_properties">自定義事件屬性</h2>
<p>您可能需要上表中列出的事件屬性中的其他事件屬性。您可以通過定義預期值並發出<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>事件。</p>

<p>
  要向事件添加自定義屬性，請執行以下步驟：
</p>

<ol class="bcls-tasklist__restart">
	<li>
    <p>
      定義您的自定義值。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">private static final int DEFAULT_TV_SEEK_TIME = (int) TimeUnit.SECONDS.toMillis(3);
private static final int DEFAULT_TV_ON_HOLD_WAIT_TIME = (int) TimeUnit.SECONDS.toMillis(1);
private static final int DEFAULT_TV_SEEK_PERCENTAGE = 1;
private static final int DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME = 500;
</code></pre>
  </li>
  <li>
    <p>
      包括創建屬性圖，添加所需值並發出<code translate="No">EventType.SEEK_CONTROLLER_CONFIGURATION</code>事件。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">private void setupTelevisionMode() {
   Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
   properties.put(Event.SEEK_DEFAULT, DEFAULT_TV_SEEK_TIME);
   properties.put(Event.SEEK_RELATIVE_ENABLED, true);
   properties.put(Event.SEEK_PERCENTAGE, DEFAULT_TV_SEEK_PERCENTAGE);
   properties.put(Event.SEEK_ON_HOLD_WAIT_TIME, DEFAULT_TV_ON_HOLD_WAIT_TIME);
   properties.put(Event.SEEK_ON_HOLD_UPDATE_FREQ, DEFAULT_TV_ON_HOLD_UPDATE_FREQUENCY_TIME);

   eventEmitter.emit(EventType.SEEK_CONTROLLER_CONFIGURATION, properties);
}</code></pre>
  </li>
  <li>
    <p>
      檢查您的應用程序是否處於電視模式下以設置搜索控制器配置。
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">if (BrightcoveMediaController.checkTvMode(mBaseVideoView.getContext())) {
   setupTelevisionMode();
}</code></pre>
  </li>
</ol>
</section>

</article>