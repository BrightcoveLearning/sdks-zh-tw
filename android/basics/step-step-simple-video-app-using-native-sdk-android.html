---
title: '一步步：使用適用於 Android 的本機 SDK 的簡單視頻應用程序' 
description:在本主題中，您將使用 Android Studio 和適用於 Android 的 Brightcove Player SDK 創建一個應用程序，該應用程序可以播放來自 Brightcove Video Cloud 帳戶的視頻以及來自 Brightcove Video Cloud 播放列表的視頻。
parent: Basics 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概述</h2>

<p>完成此快速入門後，您應該能夠：</p>

<ul class="BCL_objectivesList">
	<li>創建一個項目，然後使用Gradle添加適用於Android的Brightcove Player SDK。</li>
	<li>更改佈局以包括<code translate="No">BrightcoveExoPlayerVideoView</code>。</li>
	<li>添加到<code translate="No">onCreate()</code>播放視頻的方法<span class="player-only">。</span><span class="video-cloud-only">來自不同的來源。</span></li>
</ul>

<aside class="bcls-aside bcls-aside--tip">筆記：
<ul>
	<li>這個例子使用了<code translate="No">BrightcoveExoPlayerVideoView</code>，這是大多數情況下推薦使用的視圖。如果您認為需要使用其他視圖，請參見<a href="/android/basics/android-choosing-video-view.html">選擇一個BaseVideoView</a>文檔。</li>
	<li class="video-cloud-only">這個例子使用了<a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">Brightcove 播放 API</a> .這是最新且推薦的 API，用於從您的 Video Cloud 庫中檢索內容。</li>
</ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="Audience">受眾</h2>

<p>使用Android Studio進行開發並且對在Android應用程序中使用Brightcove Player SDK for Android感興趣的開發人員。</p>
</section>

<section class="bcls-section">
<h2 id="Prerequisites">先決條件</h2>

<p>對Java和Android應用程序開發的基本了解。</p>
</section>

<section class="bcls-section">
<h2 id="Get_ready">做好準備</h2>

<p>通過安裝Android Studio為開發做好準備</p>

<ol class="bcls-tasklist">
	<li>下載<a href="http://developer.android.com/sdk/installing/studio.html">Android Studio</a>應用。</li>
	<li>按照頁面上的指示安裝應用程序。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_a_project">建立專案</h2>

<p>在Android Studio中創建一個項目，然後使用Gradle鏈接到播放器SDK。</p>

<h3>在Android Studio中創建項目</h3>

<ol class="bcls-tasklist-restart">
	<li>打開Android Studio。
	<ul>
		<li>如果這是您第一次打開Android Studio，請選擇<strong>開始一個新的Android Studio項目</strong>。</li>
		<li>如果您正在查看菜單，請選擇<strong>文件&gt;新建&gt;新建項目</strong>。</li>
	</ul>
	</li>
	<li>在裡面<strong>選擇你的項目</strong>窗口中，選擇<strong>空活動</strong>然後點擊<strong>下一個</strong>。
	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Choose Empty Activity" src="/assets/images/android/step-by-step/empty-activity.png" />
	<figcaption class="bcls-caption--image">選擇空白活動</figcaption>
	</figure>
	</li>
	<li>
	<p>供應價值<strong>姓名</strong> , <strong>包裹名字</strong> , <strong>語</strong>， 和<strong>保存位置</strong> .在此快速入門中，使用了以下所示的值：</p>

	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Project name" src="/assets/images/android/step-by-step/studioqs-new-project.png" />
	<figcaption class="bcls-caption--image">項目價值</figcaption>
	</figure>
	</li>
	<li>點擊<strong>結束</strong>。</li>
	<!-- <li>
	<p>Select the <strong>Phone and Tablet</strong> platform with the default minimum SDK value.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Project platform" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/getting-started/studio-quick-start/studioqs-platform.png" />
	<figcaption class="bcls-caption--image">Project platform</figcaption>
	</figure>
	</li>
	<li>Click <strong>Next</strong>.</li>
	<li>
	<p>Accept the defaults for the activity details and click <strong>Finish</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Finish project creation" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/getting-started/studio-quick-start/studioqs-activity-class.png" />
	<figcaption class="bcls-caption--image">Finish project creation</figcaption>
	</figure>
	</li> -->
	<li>
	<p>Android Studio會工作一段時間，並最終顯示項目的初始狀態。</p>

	<figure class="bcls-figure"><img width="650" class="bcls-image--no-border" alt="Studio project" src="/assets/images/android/step-by-step/studioqs-project-start.png" />
	<figcaption class="bcls-caption--image">工作室項目</figcaption>
	</figure>
	</li>
</ol>

<h3>使用 Gradle 鏈接到適用於 Android 的 Brightcove Player SDK</h3>

<p>由於 Gradle 已與 Android Studio 集成，因此您將使用它來將適用於 Android 的 Native SDK 添加到您的項目中。</p>

<ol class="bcls-tasklist">
	<li>
	<p>展開<strong>Gradle腳本</strong>部分，然後打開第二個<code translate="No">build.gradle</code>文件，該文件與您的PlayVideos項目中的當前模塊相關聯。</p>

	<figure class="bcls-figure"><img width="450" class="bcls-image--no-border" alt="Build gradle file" src="/assets/images/android/step-by-step/studioqs-gradle-file.png" />
	<figcaption class="bcls-caption--image">構建gradle文件</figcaption>
	</figure>
	</li>
	<li>
	<p>在裡面<code translate="No">build.gradle</code>文件，請執行以下操作：</p>

	<ol>
		<li>在裡面<code translate="No">android</code>部分，添加以下內容<code translate="No">compileOptions</code>價值：<aside class="bcls-aside bcls-aside--information">對於 ExoPlayer v2.9.0+，您需要啟用 Java 8 支持。為此，請將以下內容添加到<code translate="No">android</code>您的應用程序的部分<strong>構建.gradle</strong>文件。有關詳細信息，請參閱<a href="https://exoplayer.dev/hello-world.html">Android 的 ExoPlayer</a>文檔。</aside>

		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">android {
    compileSdkVersion 28
    defaultConfig {
        applicationId "com.brightcove.playvideos1"
        minSdkVersion 21
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    <span class="bcls-highlight">compileOptions {
        targetCompatibility JavaVersion.VERSION_1_8
    }</span>
}</code></pre>
		</li>
		<li>以下<code translate="No">android</code>部分，添加一個<code translate="No">repositories</code> Brightcove Maven回購部分。
		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No"><span class="bcls-highlight">repositories {
      maven {
          url 'https://repo.brightcove.com/releases'
      }
    }</span></code></pre>
		</li>
		<li>在裡面<code translate="No">dependencies</code>部分，包括適用於Android的本地SDK的最新版本。替換值<code translate="No">6.10.0</code>下面帶有最新的SDK版本，可以在<a href="/android/basics/overview-brightcove-player-sdk-android.html">概述：適用於Android的Brightcove本機SDK</a>文檔。
		<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">dependencies {
  implementation fileTree(dir: 'libs', include: ['*.jar'])
  implementation 'com.android.support:appcompat-v7:26.1.0'
  implementation 'com.android.support.constraint:constraint-layout:1.0.2'
  testImplementation 'junit:junit:4.12'
  androidTestImplementation 'com.android.support.test:runner:1.0.1'
  androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'
<span class="bcls-highlight">  implementation "com.brightcove.player:exoplayer2:6.10.0"</span>
}</code></pre>
		</li>
	</ol>
	&nbsp;

	<p>使用帶有 '+ 的動態依賴版本'  Gradle 社區不鼓勵使用字符。使用動態版本控制會給您的構建過程帶來重大風險，因為較新的 API 可能會意外地與您應用的源代碼不兼容。</p>

	<aside class="bcls-aside bcls-aside--tip">筆記：
	<ul>
		<li>Brightcove建議始終使用帶有特定版本字符串的最新版本。例如，查看<strong>build.gradle</strong>和<strong>gradle.properties</strong>中的文件<a href="https://github.com/BrightcoveOS/android-player-samples">android-player-samples</a>項目。</li>
		<li>ExoPlayer 依賴項包含適用於 Android 的 Native SDK，因此您不必單獨包含 SDK。 <!-- <p>
			It is recommended that you use the ExoPlayer. If you are not using the exoplayer, you can use the following:
		</p> --> <!-- <code translate="No">implementation 'com.brightcove.player:android-sdk:6.+'</code> --></li>
		<li><a href="https://google.github.io/ExoPlayer/">Google的ExoPlayer</a>是適用於Android的開源，應用程序級媒體播放器。請注意，我們正在使用ExoPlayer 2框架。有關詳細信息，請參見<a href=" /android/framework/migrating-exoplayer-2-framework.html">遷移到ExoPlayer 2框架</a>文檔。</li>
	</ul>
	</aside>
	</li>
	<li>同步項目以獲取 Gradle 文件更改。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Code_the_application">編寫應用程序代碼</h2>

<p>接下來，您將編寫代碼以佈局應用，構建視頻列表並播放視頻</p>

<h3>定義應用程序的佈局</h3>

<p>即使進行了空活動，您也將獲得一個簡單的<code translate="No">TextView</code>佈局。替換為<code translate="No">BrightcoveExoPlayerVideoView</code>，它定義了播放器的視圖。</p>

<ol class="bcls-tasklist">
	<li>開啟檔案<code translate="No">app/res/layout/activity_main.xml</code>。</li>
	<li>
	<p>點擊<strong>文本</strong>在文件標籤的底部查看原始XML。</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Layout XML file" src="/assets/images/android/step-by-step/studioqs-text-activity-main-xml.png" />
	<figcaption class="bcls-caption--image">佈局XML文件</figcaption>
	</figure>
	</li>
	<li>
	<p>刪除現有的<code translate="No">TextView</code>元素並添加一個<code translate="No">BrightcoveExoPlayerVideoView</code>部分，因此生成的XML如下所示。注意以備後用<code translate="No">id</code>視圖的名稱為<code translate="No">brightcove_video_view</code>。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
    &lt;android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context="com.brightcove.playvideos.MainActivity"&gt;

    <span class="bcls-highlight">&lt;com.brightcove.player.view.BrightcoveExoPlayerVideoView
        android:id="@+id/brightcove_video_view"
        android:layout_width="match_parent"
        android:layout_height="280dp"
        android:layout_gravity="center_horizontal|top"/&gt;</span>
    &lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
	</li>
</ol>

<h3>啟用應用程序以使用Internet</h3>

<ol class="bcls-tasklist">
	<li>打開<code translate="No">app/manifests/AndroidManifest.xml</code>文件。</li>
	<li>
	<p>之後<code translate="No">&lt;application&gt;</code>代碼塊，但在結尾處<code translate="No">&lt;/manifest&gt;</code>標籤，插入以下內容以啟用Internet訪問。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">&lt;uses-permission android:name="android.permission.INTERNET"/&gt;</code></pre>
	</li>
	<li>同步項目以重建它並獲取這些更改。</li>
</ol>

<h3>創建視圖並播放視頻</h3>

<ol class="bcls-tasklist">
	<li>
	<p>返回到<code translate="No">MainActivity.java</code>文件。為了<code translate="No">MainActivity</code>類，擴展<code translate="No">BrightcovePlayer</code>班級。這為您的應用程序提供了默認的生命週期管理。</p>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {</code></pre>
	</li>
	<li>
	<p>這<code translate="No">BrightcovePlayer</code>類不會自動導入到項目中。請按<strong>期權+回報</strong>鍵添加<code translate="No">import</code>上課說明。</p>

	<p>前：</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Importing class" src="/assets/images/android/step-by-step/import-class.png" />
	<figcaption class="bcls-caption--image">進口班</figcaption>
	</figure>

	<p>後：</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Imported class" src="/assets/images/android/step-by-step/imported-class.png" />
	<figcaption class="bcls-caption--image">進口班</figcaption>
	</figure>

	<p>您將對添加到項目中的所有新類執行此操作。</p>
	</li>
	<li>
	<p>找到<code translate="No">onCreate()</code>功能。在函數中任何現有代碼的下面，添加以下內容：</p>

	<ul><!-- <li>Set the content view.</li> -->
		<li>
		<p>創建一個實例<code translate="No">BrightcoveExoPlayerVideoView</code>並將其與佈局關聯。在大多數情況下，您將使用exoplayer視圖。有關詳細信息，請參見<a href="/android/basics/android-choosing-video-view.html">選擇視頻視圖</a>文檔。</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {
  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
<span class="bcls-highlight">    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);</span></code></pre>

	<p>別忘了導入<code translate="No">BrightcoveExoPlayerVideoView</code>班級。</p>
	</li>
	<li class="player-only">
	<p>接下來，您需要使用分析將您的Brightcove播放器帳戶ID發送到Brightcove <code translate="No">setAccount()</code>方法。</p>

	<pre class="line-numbers" data-start="22">
<code class="language-java" translate="No">Analytics analytics = brightcoveVideoView.getAnalytics();
analytics.setAccount("<span class="bcls-input">your account Id</span>");</code></pre>
	</li>
	<li class="video-cloud-only">
	<p><strong>可選的：</strong>如果您覆蓋<code translate="No">BrightcoveExoPlayerVideoView</code>類或不使用Brightcove播放器和目錄，則需要將Video Cloud Publisher ID發送到Video Cloud Analytics。您可以通過使用分析來做到這一點<code translate="No">setAccount()</code>方法。這允許您在 Video Cloud Analytics 中查看此應用程序的數據。</p>

	<pre class="line-numbers" data-start="22">
<code class="language-java" translate="No">Analytics analytics = brightcoveVideoView.getAnalytics();
analytics.setAccount("<span class="bcls-input">your account Id</span>");</code></pre>

	<aside class="bcls-aside bcls-aside--tip video-cloud-only">有關將數據發送到 Video Cloud Analytics 的詳細信息，請參閱<a href="/features/viewing-brightcove-analytics-player-sdks.html">使用 Brightcove 分析</a>指導。</aside>
	</li>
	<li>
	<p>從遠程服務器上託管的視頻創建視頻對象。設置<code translate="No">DeliveryType</code>以匹配您擁有的視頻類型。</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>在視頻播放開始之前，加載遠程圖像作為海報圖像。</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>將視頻添加到視圖中，然後開始播放視頻。</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p>檢查以確保您的<code translate="No">onCreate()</code>方法出現如下：</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
	<li>
	<p>運行或調試應用程序以查看視頻播放。</p>

	<aside class="bcls-aside bcls-aside--information">在設備上運行該應用程序時，請確保它已通過您的蜂窩數據計劃或 wifi 連接到互聯網。</aside>
	</li>
</ol>
<!--
                      <h3>Add controls to the player</h3>
                      <p>You should have seen the default Android player controls when you ran your app in the last section. Now, you will use the Brightcove player controls.</p>
                      <ol start="31">
                        <li>Add a blank line just after the instantiation of the <code translate="No">BrightcoveVideoView</code> and before adding the video.</li>
                        <li><p>In this position add the following code to add controls to the player.</p>
                        <p><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="59-60"></code></p></li>
                        <li><p>Be sure your <code translate="No">onCreate()</code> method appears as follows:</p>
                        <p class="video-cloud-only"><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="52-64"></code></p>
                        <p class="player-only"><code data-gist-id="9b3845c46244588687f7" data-gist-hide-footer="true" data-gist-line="160-175"></code></p></li>
                        <li>Run the application and you will see the video playing, now with the controls visible. If you don't see the controls, tap the screen and they will appear.</li>
                      </ol>
          --></section>

<section class="bcls-section video-cloud-only">
<h2 id="Get_and_play_a_video">獲取並播放視頻</h2>

<p>在本節中，您將使用<code translate="No">Catalog</code>類從Video Cloud服務器檢索單個視頻，然後播放。</p>

<p>這<code translate="No">com.brightcove.player.edge.Catalog</code>類提供異步方法來檢索視頻和播放列表<a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">Brightcove 播放 API</a> .這是最新且推薦的 API，用於從您的 Video Cloud 庫中檢索內容。</p>

<h3>刪除不需要的代碼</h3>

<ol class="bcls-tasklist">
	<li>不再需要之前應用程序中的某些代碼。在裡面<code translate="No">onCreate()</code>方法，實例化後刪除所有代碼<code translate="No">brightcoveVideoView</code>。</li>
	<li>
	<p>確認你的<code translate="No">onCreate()</code>方法出現如下：</p>

	<pre class="line-numbers" data-start="13">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
  }
}</code></pre>
	</li>
</ol>

<h3>從目錄中檢索視頻</h3>

<ol class="bcls-tasklist">
	<li>從Video Cloud Studio收集以下信息：
	<ul>
		<li>帳戶ID</li>
		<li>視頻標識</li>
		<li>政策金鑰</li>
	</ul>
	&nbsp;<aside class="bcls-aside bcls-aside--information">筆記：
	<ul>
		<li>要訪問 Playback API，您需要一個 Policy Key。如果您不熟悉策略密鑰，請參閱<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">策略API概述</a>。</li>
		<li>由於本機SDK不發送原始標頭，因此您不能使用域受限的策略密鑰。如果您嘗試這樣做，您將獲得一個<code translate="No">403 Forbidden</code>嘗試從Video Cloud庫中獲取內容時的響應。</li>
	</ul>
	</aside>
	</li>
	<li>
	<p>在項目中定義您的自定義值。打開<code translate="No">res/values/strings.xml</code>文件並如下更新：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
  &lt;resources&gt;

      &lt;!-- Application name --&gt;
      &lt;string name="app_name"&gt;PlayVideos&lt;/string&gt;

      &lt;!-- A sample Brightcove Edge Account ID --&gt;
      &lt;string name="account"&gt;<span class="bcls-input">your account id</span>&lt;/string&gt;

      &lt;!-- A sample Brightcove Edge Policy Key --&gt;
      &lt;string name="policy"&gt;<span class="bcls-input">your policy key</span>&lt;/string&gt;

      &lt;!-- A sample Brightcove Video ID --&gt;
      &lt;string name="videoId"&gt;<span class="bcls-input">your video id</span>&lt;/string&gt;

  &lt;/resources&gt;</code></pre>
	</li>
	<li>
	<p>返回到<code translate="No">MainActivity.java</code>文件並添加以下代碼：</p>

	<ul>
		<li>從SDK獲取事件發射器</li>
		<li>
		<p>創建一個實例<code translate="No">com.brightcove.player.edge.Catalog</code>，使用您在上一步中為帳戶ID和策略密鑰定義的值。</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="21">
<code class="language-java" translate="No">// Get the event emitter from the SDK and create a catalog request to fetch a video from the
// Brightcove Edge service, given a video id, an account id and a policy key.
<span class="bcls-highlight">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));</span>
  </code></pre>
	</li>
	<li>
	<p>使用目錄的<code translate="No">findVideoByID()</code>方法與您的視頻 ID 和<code translate="No">VideoListener</code>對於回調。</p>
	<!--				<p>For this example, select the  <code translate="No">VideoListener</code> associated with <code translate="No">com.brightcove.player.media</code>.</p>-->

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

  // Add the video found to the queue with add().
  // Start playback of the video with start().
  @Override
    public void onVideo(Video video) {
    }

  @Override
    public void onError(String s) {
    }
});</code></pre>

	<aside class="bcls-aside bcls-aside--information">這<code translate="No">VideoListener</code>標識期望從異步操作接收 Video 對象的對象。成功進行手術後，<code translate="No">onVideo()</code>方法將被調用。如果操作中有錯誤，請<code translate="No">onError()</code>方法將被調用。Android Studio 插入了兩個所需方法的簽名。</aside>
	</li>
	<li>
	<p>在裡面<code translate="No">onVideo()</code>方法，將視頻添加到<code translate="No">brightcoveVideoView</code>，然後開始播放視頻。</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">// Start playback of the video with start().
  @Override
    public void onVideo(Video video) {
      brightcoveVideoView.add(video);
      brightcoveVideoView.start();
    }</code></pre>
	</li>
	<li>
	<p>在裡面<code translate="No">onError()</code>方法拋出錯誤字符串。</p>

	<pre class="line-numbers" data-start="36">
<code class="language-java" translate="No">@Override
    public void onError(String s) {
      throw new RuntimeException(s);
    }</code></pre>
	</li>
	<li>
	<p>您的完整代碼<code translate="No">MainActivity</code>類應該類似於：</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
    Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));
    catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

      // Add the video found to the queue with add().
      // Start playback of the video with start().
      @Override
      public void onVideo(Video video) {
        brightcoveVideoView.add(video);
        brightcoveVideoView.start();
      }

      @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
    });
  }
}</code></pre>
	</li>
	<li>運行應用程序以確認視頻播放。</li>
</ol>
</section>
<!--class="section video-cloud-only"-->

<section class="bcls-section video-cloud-only">
<h2 id="Get_and_play_a_playlist">獲取並播放播放列表</h2>

<p>在本節中，您將使用<code translate="No">Catalog</code>類從Video Cloud服務器檢索播放列表，然後播放該播放列表中的視頻。</p>

<p>這<code translate="No">com.brightcove.player.edge.Catalog</code>類提供異步方法來檢索視頻和播放列表<a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">Brightcove 播放 API</a> .這是最新且推薦的 API，用於從您的 Video Cloud 庫中檢索內容。</p>

<h3>刪除不需要的代碼</h3>

<ol class="bcls-tasklist">
	<li>
	<p>不再需要之前應用程序中的某些代碼。刪除對目錄的呼叫<code translate="No">findVideoByID()</code>方法，以及相關的<code translate="No">VideoListener</code>匿名回調函數。</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {

    // Add the video found to the queue with add().
    // Start playback of the video with start().
    @Override
      public void onVideo(Video video) {
        brightcoveVideoView.add(video);
        brightcoveVideoView.start();
      }

    @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
  });</code></pre>
	</li>
</ol>

<h3>從目錄中檢索播放列表</h3>

<ol class="bcls-tasklist">
	<li>
	<p>現有目錄實例將用於檢索播放列表，因此<strong>無需更改</strong>這些代碼行：</p>

	<pre class="line-numbers" data-start="23">
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));</code></pre>
	</li>
	<li>在Video Cloud Studio的<strong>媒體</strong>模塊，選擇一個播放列表，然後復制<strong>播放清單編號</strong>。</li>
	<li>
	<p>使用目錄的<code translate="No">findPlaylistByID()</code>方法使用您的播放列表 ID 和<code translate="No">PlaylistListener</code>對於回調。</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">catalog.findPlaylistByID("2764931905001", new PlaylistListener() {
  @Override
  public void onPlaylist(Playlist playlist) {
  }

  @Override
  public void onError(String s) {
  }
});</code></pre>

	<aside class="bcls-aside bcls-aside--tip">這<code translate="No">PlaylistListener</code>標識期望從異步操作接收播放列表對象的對象。成功進行手術後，<code translate="No">onPlaylist()</code>方法將被調用。如果操作中有錯誤，請<code translate="No">onError()</code>方法將被調用。Android Studio 插入了兩個所需方法的簽名。</aside>
	</li>
	<li>
	<p>在裡面<code translate="No">onPlaylist()</code>方法，從播放列表中檢索視頻，然後將所有視頻添加到<code translate="No">brightcoveVideoView</code>，然後開始播放第一個視頻。</p>

	<pre class="line-numbers" data-start="27">
<code class="language-java" translate="No">@Override
    public void onPlaylist(Playlist playlist) {
  <span class="bcls-highlight">    brightcoveVideoView.addAll(playlist.getVideos());
      brightcoveVideoView.start();</span>
    }</code></pre>
	</li>
	<li>
	<p>在裡面<code translate="No">onError()</code>方法拋出錯誤字符串。</p>

	<pre class="line-numbers" data-start="31">
<code class="language-java" translate="No"> @Override
    public void onError(String s) {
  <span class="bcls-highlight">    throw new RuntimeException(s);</span>
    }</code></pre>
	</li>
	<li>
	<p>您的完整代碼<code translate="No">MainActivity</code>類應該類似於：</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">public class MainActivity extends BrightcovePlayer {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
    Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));
    catalog.findPlaylistByID("4845949311001", new PlaylistListener() {
      @Override
      public void onPlaylist(Playlist playlist) {
        brightcoveVideoView.addAll(playlist.getVideos());
        brightcoveVideoView.start();
      }

      @Override
      public void onError(String s) {
        throw new RuntimeException(s);
      }
    });
  }
}</code></pre>
	</li>
	<li>運行應用程序以確認播放列表中的多個視頻播放。</li>
</ol>
</section>
<!--class="section video-cloud-only"-->

<p><strong>你完成了！感謝您完成 Android SDK 快速入門。</strong></p>
</article>
<!-- Learning path right navigation -->
<link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/learning-paths.css" /><script>
    var learning_path = [ { node: '18250', title: 'Native SDK Architecture' } , { node: '18252', title: 'Understand the Activity Class' } , { node: '18248', title: 'Choose a Video View' } , { node: '18247', title: 'Register Your App' } , { node: '18251', title: 'Use Media Content' } , { node: '18249', title: 'Understand Events' } , { node: '18238', title: 'Step-by-Step: Simple Video App' } ]
  </script><script src="https://support.brightcove.com/site-assets/js/site/learning-paths.js"></script>