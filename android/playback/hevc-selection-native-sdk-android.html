---
title: '使用適用於 Android 的本機 SDK 進行 HEVC 選擇' 
description:在本主題中，您將了解適用於 Android 的 Brightcove Native SDK 如何選擇 HEVC 源和再現。
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


<section class="bcls-section">
<h2 id="Overview">概述</h2>
<p>
  高效視頻編碼（HEVC），也稱為H.265，是一種視頻壓縮標準，可以減小視頻文件的大小，從而實現更高質量的播放。
</p>
<p>
  適用於 Android 的 Brightcove Native SDK 使用以下 HEVC 選擇過程：
</p>
<ol>
	<li><a href="#HEVC_source_selection">HEVC來源選擇</a></li>
  <li>
    <a href="#HEVC_rendition_selection">HEVC移交選擇</a>
  </li>
</ol>
<aside class="bcls-aside bcls-aside--information">
  <p>
    筆記：
  </p>
  <ul>
    <li>
      適用於 Android 6.13.1+ 的 Brightcove Native SDK 支持
    </li>
    <li>
      適用於使用 API 級別 21（Lollipop 版本 5.0）及更高版本的 Android 設備
    </li>
  </ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="HEVC_source_selection">HEVC來源選擇</h2>
<p>HEVC 源選擇過程在您使用 Brightcove 請求視頻後開始<code translate="No">Catalog</code> .</p>
<p>
  根據您的帳戶配置，<code translate="No">Catalog</code>響應可能包含多個來源，帶有或不帶有HEVC格式。這是一個例子：
</p>
<pre class="line-numbers"><code class="language-json" translate="No"> &quot;sources&quot;: [
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=ZYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  }
]</code></pre>
<p>
  在此示例中，有四個DASH源：
</p>
<ul>
  <li>
    一個非HEVC HTTP源
  </li>
  <li>
    一種非HEVC HTTPS源
  </li>
  <li>
    一個HEVC HTTP源
  </li>
  <li>
    一個HEVC HTTPS來源
  </li>
</ul>
<p>
  請注意，HEVC源包含字符串<code translate="No">hvc</code>在網址中。
</p>
<p>
  適用於 Android 源選擇器的 Native SDK 首選 HEVC 源。在上面的示例中，它將選擇HEVC HTTPS源。
</p>
<p>
  本機 SDK 繼續執行中定義的默認選擇過程<a href="https://support.brightcove.com/android-source-selection">安卓：源選擇</a>文檔：
</p>
<ol>
  <li>
    在HTTP上優先使用HTTPS
  </li>
  <li>
    首選DASH而非HLS
  </li>
  <li>
    如果選擇HLS進行播放，請選擇可用的最高版本的HLS
  </li>
</ol>

</section>

<section class="bcls-section">
<h2 id="HEVC_rendition_selection">HEVC移交選擇</h2>
<p>根據您的攝取配置，HEVC源可能包含在不同的格式中。您可能有以下情況：</p>
<ul>
  <li>
    <a href="#Only_HEVC_renditions">僅HEVC格式</a>
  </li>
  <li>
    <a href="#A_mix_of_HEVC_and_other_codecs">HEVC和其他編解碼器的混合</a>
  </li>
</ul>
<aside class="bcls-aside bcls-aside--information">這種選擇僅適用於使用 ExoPlayer 時。</aside>

<h3 id="Only_HEVC_renditions">僅HEVC格式</h3>
<p>
  當視頻源的再現只有 HEVC 編解碼器時，不涉及再現選擇。ExoPlayer 會根據設備功能和可用帶寬選擇適當的再現。
</p>

<h3 id="A_mix_of_HEVC_and_other_codecs">HEVC和其他編解碼器的混合</h3>
<p>
  如果視頻源具有混合了HEVC和其他編解碼器（如AVC）的格式，則將調用格式選擇過程。當 Native SDK 將源加載到 ExoPlayer 時，它會執行一個<a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html">選擇覆蓋</a>使視頻播放更喜歡 HEVC 而不是其他編解碼器。
</p>
<p>
  給定設備支持其再現格式的視頻，以下是再現過程：
</p>
<ol>
  <li>
    本機 SDK 選擇所有 HEVC 再現。
  </li>
  <li>
    它會忽略以相同分辨率複製現有HEVC的非HEVC再現。
  </li>
</ol>

<p>
  這迫使 ExoPlayer 在大多數情況下更喜歡 HEVC。這是兩種可能的情況：
</p>
<ul>
  <li>
    <a href="#Codec_mix_duplication">編解碼器混合複製</a>
  </li>
  <li>
    <a href="#Half_and_half">一半一半</a>
  </li>
</ul>

<h4 id="Codec_mix_duplication">編解碼器混合複製</h4>
<p>
  在這種情況下，大多數HEVC和AVC編解碼器的分辨率都是重複的。例如：
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1989000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;2478000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3458000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  根據上述視頻格式，Brightcove Natvie SDK將選擇以下格式：
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  請注意，僅選擇了一個AVC格式，因為它的分辨率不會復制現有的HEVC格式。
</p>

<h4 id="Half_and_half">一半一半</h4>
<p>
  在這種情況下，AVC編解碼器的分辨率較低，而HVC編解碼器的分辨率較高。例如：
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  在這種情況下，由於不存在分辨率與HEVC格式重複的AVC編解碼器，因此Native SDK會選擇所有格式，從而使ExoPlayer可以根據可用帶寬來選擇格式。
</p>
<p>
  在這種情況下，本機 SDK 不會在所有情況下強制選擇 HEVC，以避免將最低再現限制為高比特率 HEVC 再現。這可能會導致網絡連接不良的不良用戶體驗。
</p>
</section>

</article>