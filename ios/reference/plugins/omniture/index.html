<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>適用於 iOS 的 Brightcove Native Player 參考</title>

	<link rel="stylesheet" href="css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title"><a href="index.html">適用於 iOS 的 Brightcove 原生播放器</a></h1>

			<p id="developer-home">
				<a href="index.html">亮灣</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="hierarchy.html">等級制度</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">適用於 iOS 的 Brightcove Native Player 參考</h1>

					
					<div class="section section-overview index-overview">
						
						
						<h1>適用於 iOS 版 Brightcove Player SDK 的 Omniture（Adobe Marketing Cloud - Adobe Analytics）插件，版本 6.9.0.1697</h1><h1>要求</h1>

<ul>
<li>Xcode 11.0+</li>
<li>弧</li>
</ul>


<h1>支持的平台</h1>

<p>iOS 11.0 及更高版本。</p>

<h1>安裝</h1>

<p>Omniture 插件是一個靜態庫框架，支持 Adobe Marketing Cloud v4.14.1 和 Adobe Video Heartbeat v2.0.1。Marketing Cloud 和 Video Heartbeat 庫<strong>不是</strong>包含在此 SDK 中，必須手動添加到您的項目中。下面提供了下載庫的說明。</p>

<h2>可可豆</h2>

<p>您可以使用<a href="http://cocoapods.org">可可豆</a> 1.0 或更高版本將 Omniture 插件添加到您的項目中。你可以找到最新的<code>Brightcove-Player-Omniture</code> podspec <a href="https://github.com/brightcove/BrightcoveSpecs/tree/master/Brightcove-Player-Omniture">這裡</a> .要使用此規範，請將以下內容添加到 Podfile 的頂部：<code>來源 '</code> https://github.com/brightcove/BCOVSpecs.git' <code></code> .</p>

<p>靜態框架示例：</p>

<p>```bash源碼&lsquo;<a href="https://github.com/brightcove/BrightcoveSpecs.git" title="">https://github.com/brightcove/BrightcoveSpecs.git'</a></p>

<p>目標&lsquo;我的全方位播放器&rsquo;做豆莢&lsquo; Brightcove-Player-Omniture &rsquo;結束```</p>

<p>更新安裝時，它&rsquo;刷新 BrightcoveSpecs 存儲庫的本地副本是一個好主意，以便您在本地擁有最新的 podspec，就像更新 CococaPods 主存儲庫一樣。</p>

<p>通常，如果您使用<code>豆莢更新</code>在終端中，這將自動發生，或者您可以使用<code>pod 回購更新</code> .</p>

<h2>手動的</h2>

<p>手動將適用於 Brightcove Player SDK 的 Omniture 插件添加到您的項目中：</p>

<ol>
<li>安裝最新版本的<a href="https://github.com/brightcove/brightcove-player-sdk-ios#ManualInstallation">Brightcove 播放器 SDK</a> .</li>
<li>從以下位置下載插件的最新壓縮版本<a href="https://github.com/brightcove/brightcove-player-sdk-ios-omniture/releases">發布頁面</a> .</li>
<li>添加<code>BrightcoveAMC.framework</code>項目。您可以通過右鍵單擊 Frameworks 文件夾並選擇&ldquo;添加文件到&rdquo;選項並選擇<code>BrightcoveAMC.framework</code>從它存儲的路徑。</li>
<li>在&ldquo;構建設置&rdquo;應用程序目標的選項卡，確保&ldquo;框架搜索路徑&rdquo;包括框架的路徑。這應該自動完成，除非框架存儲在與您的項目不同的根目錄下。</li>
<li>在&ldquo;構建階段&rdquo;應用程序目標的選項卡，將以下內容添加到&ldquo;將二進製文件與庫鏈接&rdquo;階段：

<ul>
<li>BrightcoveAMC.framework<code></code></li>
</ul>
</li>
<li>在&ldquo;構建設置&rdquo;應用程序目標的選項卡：

<ul>
<li>確保這件事<code>-ObjC</code>已添加到&ldquo;其他鏈接器標誌&rdquo;構建設置。</li>
</ul>
</li>
<li>跟隨 Adobe 下載 Adobe Marketing Cloud &rsquo;秒<a href="https://docs.adobe.com/content/help/en/mobile-services/ios/overview.html">指示</a>並添加<code>AdobeMobileLibrary.a</code>到您的項目。</li>
<li>跟隨 Adobe 下載 Adobe Video Heartbeat &rsquo;秒<a href="https://marketing-stage.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/ios_2.0/">指示</a>並添加<code>VideoHeartbeat.a</code>到您的項目。</li>
<li>將 Marketing Cloud 和 Video Heartbeat 標頭文件夾添加到項目的標頭搜索路徑設置。</li>
</ol>


<h1>快速開始</h1>

<p>BrightcoveAMC 是兩者之間的橋樑<a href="https://github.com/brightcove/brightcove-player-sdk-ios">適用於 iOS 的 Brightcove Player SDK</a>和 Adobe 視頻跟踪，包括<a href="https://marketing-stage.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/ios_2.0/">Adobe Video Heartbeat v2</a>和<a href="https://github.com/Adobe-Marketing-Cloud/mobile-services">Adobe 媒體跟踪 v4</a> .BrightcoveAMC 跟踪基本的視頻行為：視頻就緒、視頻完成、視頻播放和視頻暫停。</p>

<h1>客戶端實現</h1>

<p>要設置 Adobe Video Heartbeat，Omniture 插件客戶端需要實現 BCOVAMCVideoHeartbeatConfigurationPolicy 的實例。要設置 Adobe Media Tracking，需要一個 BCOVAMCMediaSettingPolicy 實例。這些<a href="https://en.wikipedia.org/wiki/Strategy_pattern">政策</a>允許為每個播放會話自定義 ADBMediaHeartbeatConfig 或 ADBMediaSettings 對象。</p>

<h2>視頻心跳 v2</h2>

<p>此示例使用視頻心跳跟踪。</p>

<pre><code>[1] // 創建 VHB 配置策略對象。BCOVAMCVideoHeartbeatConfigurationPolicy videoHeartbeatConfigurationPolicy = ^ADBMediaHeartbeatConfig *(id&lt;BCOVPlaybackSession&gt; session) { ADBMediaHeartbeatConfig *configData = [[ADBMediaHeartbeatConfig alloc] init]; configData.trackingServer = &lt;adobe-assigned_tracking_server&gt;"; configData.channel = &lt;cutomize_sample_channel&gt;; configData.appVersion = &lt;app_version&gt;; configData.ovp = &lt;online_video_platform&gt;; configData.playerName = &lt;player_name&gt;; configData.ssl = &lt;YES | NO&gt;; // Set debugLogging to true to activate debug tracing. Remove it in production. configData.debugLogging = YES; return configData; } ; [2] // 從 VHB 配置策略對象創建 Brightcove AMC 分析策略對象。BCOVAMCAnalyticsPolicy *heartbeatPolicy = [[BCOVAMCAnalyticsPolicy alloc] initWithHeartbeatConfigurationPolicy:videoHeartbeatConfigPolicy]; BCOVAMCSessionConsumer *sessionConsumer = [BCOVAMCSessionConsumer heartbeatAnalyticsConsumerWithPolicy:heartbeatPolicy delegate:self]; BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager]; id&lt;BCOVPlaybackController&gt; controller = [manager createPlaybackController];控制器.delegate = self; [self.view addSubview:controller.view]; [3] // 將 Brightcove AMC 會話消費者添加到播放控制器。 [控制器 addSessionConsumer:sessionConsumer]; [4] // 查找並播放視頻。NSString *policyKey = &lt;your-policy-key&gt;; NSString *accountId = &lt;your-account-id&gt;; NSString *videoID = &lt;your-video-id&gt;; BCOVPlaybackService *service = [[BCOVPlaybackService alloc] initWithAccountId:accountId policyKey:policyKey]; [service findVideoWithVideoID:videoID parameters:nil completion:^(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error) { [controller setVideos:@[ video ]]; [controller play]; } ];</code></pre>

<ol>
<li>創建將在每個播放會話開始時調用的視頻心跳配置策略塊。該策略允許根據當前會話自定義配置數據。</li>
<li>使用配置策略塊創建和初始化 BCOVAMCAnalyticsPolicy 實例<code>-[initWithHeartbeatConfigurationPolicy:]</code> .BCOVAMCAnalyticsPolicy 對像用於創建 BCOVAMCSessionConsumer。</li>
<li>創建播放控制器後，調用添加會話消費者方法，<code> -[addSessionConsumer:]</code> , 添加 AMC 會話使用者。</li>
</ol>


<h2>營銷雲</h2>

<p>此示例使用媒體跟踪。</p>

<pre><code>[1] BCOVAMCMediaSettingPolicy mediaSettingPolicy = ^ADBMediaSettings *(id&lt;BCOVPlaybackSession&gt; session) { ADBMediaSettings *settings = [ADBMobile mediaCreateSettingsWithName:&lt;cutomize_setting_name&gt; [2] length:0 playerName:&lt;cutomize_player_name&gt; playerID:&lt;cutomize_player_ID&gt;]; [3] settings.milestones = @"25,50,75"; // a customization. return settings; } ; [4] BCOVAMCAnalyticsPolicy *mediaPolicy = [[BCOVAMCAnalyticsPolicy alloc] initWithMediaSettingsPolicy:mediaSettingPolicy]; BCOVAMCSessionConsumer *sessionConsumer = [BCOVAMCSessionConsumer mediaAnalyticsConsumerWithPolicy:mediaPolicy delegate:self]; BCOVPlayerSDKManager *manager = [BCOVPlayerSDKManager sharedManager]; id&lt;BCOVPlaybackController&gt; controller = [manager createPlaybackController];控制器.delegate = self; [self.view addSubview:controller.view]; [5] [控制器addSessionConsumer:sessionConsumer]; NSString *policyKey = &lt;your-policy-key&gt;; NSString *accountId = &lt;your-account-id&gt;; NSString *videoID = &lt;your-video-id&gt;; BCOVPlaybackService *service = [[BCOVPlaybackService alloc] initWithAccountId:accountId policyKey:policyKey]; [service findVideoWithVideoID:videoID parameters:nil completion:^(BCOVVideo *video, NSDictionary *jsonResponse, NSError *error) { [controller setVideos:@[ video ]]; [controller play]; } ];</code></pre>

<ol>
<li>創建將在每個播放會話開始時調用的媒體設置策略塊。該策略允許根據當前會話自定義媒體設置。</li>
<li>使用 ADBMobile 的類方法創建 ADBMediaSettings 實例時<code>+[mediaCreateSettingsWithName:length:playerName:playerID:]</code>，你可以設置<strong>視頻長度</strong>到<strong>0</strong> .Omniture 插件稍後會更新。</li>
<li>添加可選設置，例如里程碑。</li>
<li>使用媒體設置策略塊創建和初始化 BCOVAMCAnalyticsPolicy 實例<code>-[initWithMediaSettingsPolicy:]</code> .策略對像用於為 Adobe 媒體跟踪創建 AMC 會話使用者，如<code>+[mediaAnalyticsConsumerWithPolicy:delegate:]</code> .</li>
<li>創建播放控制器後，調用添加會話消費者方法，<code> -[addSessionConsumer:]</code> , 添加 AMC 會話使用者。</li>
</ol>


Adobe-Marketing-Cloud.git<h1></h1>

<p>要獲取 Adobe Marketing Cloud 庫，請運行以下命令：</p>

<pre><code>git clone -b v4.14.1-iOS --single-branch https://github.com/Adobe-Marketing-Cloud/mobile-services.git git clone -b ios-v2.0.1 --single-branch https://github.com/Adobe-Marketing-Cloud/mobile-services.git /github.com/Adobe-Marketing-Cloud/video-heartbeat-v2.git</code></pre>

<h1>支持</h1>

<p>如果您有問題、需要幫助或想提供反饋，請使用<a href="https://supportportal.brightcove.com/s/login/">支持門戶</a>或聯繫您的客戶經理。要接收新 SDK 軟件發布的通知，請訂閱 Brightcove Native Player SDK <a href="https://groups.google.com/g/brightcove-native-player-sdks">谷歌集團</a> .</p>
						
						
					</div>
					

					<div class="index-container">
						

						
						<div class="index-column">
							<h2 class="index-title">類引用</h2>
							<ul>
								
								<li>BCOVAMCAnalyticsPolicy<a href="Classes/BCOVAMCAnalyticsPolicy.html"></a></li>
								
								<li>BCOVAMCSessionConsumer<a href="Classes/BCOVAMCSessionConsumer.html"></a></li>
								
							</ul>
						</div>
						

						
						<div class="index-column">
							
							<h2 class="index-title">協議參考</h2>
							<ul>
								
								<li>BCOVAMCSessionConsumerHeartbeatDelegate<a href="Protocols/BCOVAMCSessionConsumerHeartbeatDelegate.html"></a></li>
								
								<li>BCOVAMCSessionConsumerMeidaDelegate<a href="Protocols/BCOVAMCSessionConsumerMeidaDelegate.html"></a></li>
								
							</ul>
							

							

							
						</div>
						
					</div>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">版權&copy; 2021 年光明灣。版權所有。更新：2021-07-08</p>
							
							
							<p class="generator">生成者<a href="http://appledoc.gentlebytes.com">蘋果文檔 2.2.1（內部版本 1334）</a> .</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="js/script.js"></script>
</body>
</html>
