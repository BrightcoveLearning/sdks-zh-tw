---
title: '將播放器增強功能用於 Live SSAI 與本機 SDK' 
description:在本主題中，您將學習如何使用 Brightcove Native SDK 播放直播流，其中包括服務器端廣告並利用 Player Enhancements for Live SSAI 來改善用戶體驗。
parent: Live 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">介紹</h2>

<p>Brightcove的Live SSAI播放器增強功能可讓您通過廣告計數，廣告倒數計時器，點擊廣告和隨播廣告來改善實時流中的廣告間隔。這些實時流可以使用 Brightcove Native SDK 播放。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Client-side ad components" src="//learning-services-media.brightcove.com/doc-assets/node/18946-sls-overview/client-components-sls.png" />
<figcaption class="bcls-caption--image">客戶端廣告組件</figcaption>
</figure>

<p>由於電視不支持網絡瀏覽器，因此聯網電視上不提供隨播廣告和點擊廣告。</p>

<p>如果您不熟悉此功能，請參閱以下內容：</p>

<ul>
	<li><a href="https://live.support.brightcove.com/live-api/ssai/overview-player-enhancements-live-ssai.html">概述：實時SSAI的播放器增強</a></li>
	<li><a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html">實施實時SSAI的播放器增強</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Steps">腳步</h2>

<p>要使用 Brightcove Native SDK 使用增強型播放器播放直播流，請按照以下步驟操作：</p>

<ol class="bcls-tasklist">
	<li>遵循<a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html">實施實時SSAI的播放器增強</a>文檔，直到創建您的播放令牌。</li>
	<li>
	<p>構建您的應用程序：</p>

	<ul>
		<li><a href="#Android_implementation">Android實施</a></li>
		<li><a href="#iOS_implementation">iOS實施</a></li>
	</ul>
	</li>
	<li>繼續中的工作流程<a href="https://ssai.support.brightcove.com/live/guides/implementing-player-enhancements-live-ssai.html">實施實時SSAI的播放器增強</a>文檔。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Android_implementation">Android實施</h2>

<p>您將需要以下值來使用適用於 Android 的本機 SDK 構建您的應用程序：</p>

<ul>
	<li>播放令牌</li>
	<li>帳戶ID</li>
	<li>視頻 ID</li>
	<li>政策金鑰</li>
</ul>

<p>要獲取您的策略密鑰，請查看<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">策略密鑰</a>文檔。</p>

<p>請按照以下步驟構建您的應用程序：</p>

<ol class="bcls-tasklist-restart">
	<li>使用<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSsaiSampleApp">基本 SSAI 示例應用程序</a>作為代碼的起點。</li>
	<li>在裡面<strong>res / values / strings.xml</strong>文件，將以下內容替換為您自己的值：
	<ul>
		<li>帳戶ID</li>
		<li>視頻 ID</li>
		<li>政策金鑰</li>
	</ul>
	</li>
	<li>
	<p>在裡面<strong>MainActivity.java</strong>文件，替換<code translate="No">ad_config_id</code>與您的價值<a href="/features/using-player-enhancements-live-ssai-native-sdks.html#Configure_the_player">播放令牌</a>。</p>

	<pre>
<code class="language-html" translate="No">private final String AD_CONFIG_ID_QUERY_PARAM_VALUE = "<span class="bcls-input">your playback token</span>";</code></pre>
	</li>
	<li>
	<p>這<code translate="No">ad_config_id</code>將您的播放令牌值作為查詢參數添加到 HTTP 請求中。</p>

	<pre class="line-numbers">
<code class="language-html" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
  .addQueryParameter(<span class="bcls-highlight">AD_CONFIG_ID_QUERY_PARAM_KEY, AD_CONFIG_ID_QUERY_PARAM_VALUE</span>)
  .build();</code></pre>
	</li>
	<li>
	<p>使用您的實時流視頻ID和更新的HTTP請求對Playback API進行目錄調用。</p>

	<pre class="line-numbers">
<code class="language-html" translate="No">catalog.findVideoByID(<span class="bcls-highlight">getString(R.string.video_id), httpRequestConfig</span>, new VideoListener() {
     @Override
     public void onVideo(Video video) {
         plugin.processVideo(video);
     }
 });</code></pre>
	</li>
	<li>您的播放器已準備好播放您的直播。</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="iOS_implementation">iOS實施</h2>

<p>您將需要以下值來使用適用於 iOS 的 Native SDK 構建您的應用程序：</p>

<ul>
	<li>播放令牌</li>
	<li>帳戶ID</li>
	<li>視頻 ID</li>
	<li>政策金鑰</li>
</ul>

<p>要獲取您的策略密鑰，請查看<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">策略密鑰</a>文檔。</p>

<p>請按照以下步驟構建您的應用程序：</p>

<ol class="bcls-tasklist-restart">
	<li>使用<a href="https://github.com/BrightcoveOS/ios-player-samples">基本 SSAI 播放器</a>示例作為代碼的起點。</li>
	<li>在裡面<strong>ViewController.swift</strong>文件，將以下內容替換為您自己的值：
	<ul>
		<li>帳戶ID</li>
		<li>視頻 ID</li>
		<li>政策金鑰</li>
	</ul>
	</li>
	<li>
	<p>更換<code translate="No">AdConfigId</code>與您的價值<a href="/features/using-player-enhancements-live-ssai-native-sdks.html#Configure_the_player">播放令牌</a>。</p>

	<pre>
<code class="language-html" translate="No">static let AdConfigId = "<span class="bcls-input">your playback token</span>"</code></pre>
	</li>
	<li>
	<p>這<code translate="No">AdConfigId</code>將您的播放令牌值添加為查詢參數。</p>

	<pre>
<code class="language-html" translate="No">let queryParameters = [kBCOVPlaybackServiceParamaterKeyAdConfigId: <span class="bcls-highlight">Constants.AdConfigId</span>]</code></pre>
	</li>
	<li>
	<p>使用您的實時視頻ID和查詢參數對Playback API進行目錄調用。</p>

	<pre class="line-numbers">
<code class="language-html" translate="No">playbackService.findVideo(withVideoID: <span class="bcls-highlight">Constants.VideoId</span>, parameters: <span class="bcls-highlight">queryParameters</span>)
  { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in
  guard let _video = video else {
    print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
    return
  }
  self?.playbackController?.setVideos([_video] as NSFastEnumeration)
}</code></pre>
	</li>
	<li>您的播放器已準備好播放您的直播。</li>
</ol>
</section>
</article>