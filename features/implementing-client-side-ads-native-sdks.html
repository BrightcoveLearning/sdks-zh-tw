---
title: '使用原生 SDK 實現客戶端廣告' 
description:在本主題中，您將學習如何使用 Brightcove Native SDK 播放客戶端廣告。
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概述</h2>

<p>客戶端廣告涉及從客戶端設備向廣告服務器發出請求。這可能會在檢索廣告視頻時產生一些緩衝時間。要獲得更像電視的體驗，可以使用<a href="/features/implementing-server-side-ads-native-player-sdks.html">服務器端廣告插入</a>。</p>

<p>對於客戶端廣告，內容視頻會一直播放，直到檢測到廣告提示點或到達來自 VMAP 響應的廣告時間。向已配置的廣告服務器發出請求，該服務器以廣告詳細信息作為響應。然後播放器開始播放所請求的廣告。</p>

<p>Brightcove Native SDK 為以下技術提供插件：</p>

<ul>
	<li><a href="https://developers.google.com/interactive-media-ads/">Google的互動媒體廣告（IMA）</a></li>
	<li><a href="https://www.freewheel.com/">飛輪</a></li>
</ul>

<p>本機 SDK 支持在使用 Google 的 Ad Manager 和 DFP 廣告管理系統 (DFP)（即 Google AdSense 網絡）時生成的 VMAP。</p>
</section>

<section class="bcls-section">
<h2 id="Types_of_ads">廣告類型</h2>

<p>您可以在視頻中使用三種主要類型的廣告：</p>

<p><strong>線性廣告</strong> -暫停主要內容視頻並在播放器全幀中顯示的廣告</p>

<p><strong>非線性廣告</strong> -覆蓋在主要內容視頻上顯示的廣告。這些可以是文本、圖形圖像甚至視頻疊加。</p>

<p><strong>隨播廣告</strong> -在視頻播放器外部顯示的廣告</p>
</section>

<section class="bcls-section">
<h2 id="Ad_standards">廣告標準</h2>

<p>標準 XML 文件可用於告訴播放器何時播放您的廣告以及播放哪些廣告。這<a href="https://www.iab.com/">互動廣告局 (IAB)</a>提出了以下視頻播放器和廣告單元之間的通用接口：</p>

<p><strong>視頻廣告服務模板 (VAST)</strong> - 用於向數字視頻播放器投放廣告的通用 XML 架構。此文件指定要顯示的廣告。</p>

<p><strong>視頻多廣告播放列表 (VMAP)</strong> - 此文件描述了 VAST 廣告的播放列表，包括前貼片廣告、視頻插播廣告、後貼片廣告和非線性廣告。在這裡，您可以指定何時發生廣告休息，以及在每個廣告休息期間將播放什麼廣告。</p>

<p><strong>視頻播放器廣告服務接口定義 (VPAID)</strong> - 建立用於提供交互式廣告體驗的通用界面。</p>

<aside class="bcls-aside bcls-aside--information">Brightcove Native SDK 不支持 VPAID 廣告</aside>

<p>如果您不熟悉廣告條款，請先查看<a href="https://player.support.brightcove.com/getting-started/learning-guide-video-advertising.html">視頻廣告學習指南</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Play_ads_from_your_app">播放您應用中的廣告</h2>

<p>要播放客戶端廣告，請按以下步驟操作：</p>

<ol class="bcls-tasklist">
	<li><a href="">定義廣告代碼</a></li>
	<li><a href="">驗證廣告代碼</a></li>
	<li><a href="">創建提示點</a></li>
	<li>
	<p>建立您的應用程式</p>

	<ul>
		<li><a href="">Android實施</a></li>
		<li><a href="">iOS實施</a></li>
	</ul>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Define_ad_tags">定義廣告代碼</h2>

<p>廣告標籤定義了將被檢索和播放的廣告。您可以使用以下格式之一：</p>

<ul>
	<li>VAST - 有關 XML 架構的詳細信息，請參閱<a href="https://www.iab.com/guidelines/digital-video-ad-serving-template-vast-3-0/">IAB VAST 規範</a> .</li>
	<li>VMAP - 有關 XML 模板的詳細信息，請參閱<a href="https://www.iab.com/guidelines/digital-video-multiple-ad-playlist-vmap-1-0-1/">IAB VMAP 規範</a> .</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Verify_ad_tags">驗證廣告代碼</h2>

<p>優良作法是確認您的廣告代碼有效並能按預期工作。這將有助於在實施過程中調試其他問題。</p>

<p>Google提供了一個<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector">視頻套件檢查器</a>供您檢查廣告代碼。</p>

<p>FreeWheel提供了一個<a href="https://vi.freewheel.tv/apc/index">廣告預覽器</a>檢查廣告服務器的響應。</p>
</section>

<section class="bcls-section">
<h2 id="Create_cue_points">創建提示點</h2>

<p>如果您使用的是VMAP廣告代碼，則可以跳過此步驟。VMAP 為您的廣告定義了一個播放列表，並指定了它們的播放時間。注意<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/ad-rules">Google的IMA廣告規則</a>使用VMAP。</p>

<p>如果您使用的是VAST廣告代碼，則需要創建提示點以告知播放器何時插入廣告。您必須在您的應用程序中創建這些。以下是一些有關如何執行此操作的示例：</p>
<h3>安卓</h3>
<ul>
  <li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicIMAVASTSampleApp">基本的IMA VAST示例</a></li>
</ul>
<h3>的iOS</h3>
<ul>
  <li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">IMA基本樣本</a></li>
</ul>

<!-- <p>You can use Brightcove's Media module to create cue points. To do this, see the <a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">Working with Cue Points in the Media Module</a> document.</p> -->
</section>

<section class="bcls-section">
<h2 id="Android_Implementation">Android實施</h2>

<p>適用於 Android 的原生 SDK 通過以下技術支持 VMAP、VAST、服務器端廣告規則和隨播廣告：</p>

<h3>Google IMA</h3>

<p>請按照以下步驟使用Google IMA廣告規則：</p>

<ol class="bcls-tasklist-restart">
	<li>找到並查看<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">廣告規則IMA</a>示例應用程序。</li>
	<li>打開<strong>MainActivity.java</strong>文件。</li>
	<li>
	<p>使用您的值自定義項目。從 Video Cloud 庫中檢索內容需要以下值：</p>

	<ul>
		<li>播放API政策金鑰</li>
		<li>帳戶ID</li>
		<li>視頻標識</li>
	</ul>
	</li>
	<li>
	<p>包含用於訪問您的IMA廣告的值：</p>

	<ul>
		<li>廣告規則網址</li>
	</ul>
	</li>
	<li>這<code translate="No">setupGoogleIMA()</code>方法建立與 Brightcove IMA 插件的連接。</li>
	<li>聽著<code translate="No">GoogleIMAEventType.ADS_REQUEST_FOR_VIDEO</code>事件。在這裡，您將建立一個廣告請求對象，並指向您的廣告代碼網址。在這種情況下，它是一個廣告規則VMAP文件。</li>
	<li>這<code translate="No">setupAdMarkers()</code>方法是可選的。此方法調用 IMA AdManager 並在搜索欄上創建廣告標記，以便用戶可以直觀地看到廣告何時播放。</li>
</ol>

<h4>尋找無廣告</h4> 
<p>如果您想在用戶搜索視頻時禁用廣告播放，請參閱<a href="https://sdks.support.brightcove.com/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">尋找無廣告</a>代碼片段。</p>
<aside class="bcls-aside bcls-aside--information">適用於 Android 的 Native SDK 使用 ExoPlayer 框架來播放內容和廣告。使用 IMA，用戶需要在搜索廣告後再次點擊播放按鈕才能開始播放內容。</aside>

<h4>程式碼範例</h4>
<p>以下是完整的代碼示例：</p>
<ul>
		<li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicIMAVASTSampleApp">基本的IMA Vast播放器</a>：要使用 VAST 標籤，您的應用應從<code translate="No">Video</code>從 Playback API 調用返回的對像元數據。元數據將包括您在 Video Cloud Studio 中創建的廣告提示點。</p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">IMA廣告規則IMA播放器</a>：或者，您的應用程序可以在播放器中創建一組提示點對象<code translate="No">Activity</code>班級。</p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMAWidevineModularSampleApp">廣告規則IMA Widevine模塊化</a>：將客戶端廣告與內容保護結合在一起。</p>
    </li>
</ul>

<h3>飛輪</h3>

<p>這些廣告要求您購買 FreeWheel AdManager 庫。</p>

<p>請按照以下步驟使用FreeWheel廣告：</p>

<ol class="bcls-tasklist-restart">
	<li>接觸<a href="https://www.freewheel.com/">飛輪</a>購買其AdManager.aar庫歸檔文件並將其安裝到您的libs /目錄中，該目錄通常位於/ home /目錄的根目錄下。適用於 Android 的原生 SDK 和 FreeWheel 示例應用程序需要 FreeWheel AdManager 庫版本 6.28.0。</li>
	<li>找到並查看<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelSampleApp">飛輪</a>示例應用程序。</li>
	<li>打開<strong>MainActivity.java</strong>文件。</li>
	<li>使用您的值自定義項目。此示例使用遠程視頻資產。</li>
	<li>
	<p>包含用於訪問您的FreeWheel廣告的值：</p>

	<ul>
		<li>廣告網址</li>
		<li>廣告網絡ID</li>
		<li>廣告資料</li>
	</ul>
	</li>
	<li>這<code translate="No">setupFreeWheel()</code>方法建立與 Brightcove FreeWheel 插件的連接。</li>
	<li>配置FreeWheel控制器以指向您的廣告URL。<code translate="No">freeWheelController.setAdURL("http://demo.v.fwmrm.net/");</code></li>
	<li>這將在稍後用於實例化 FreeWheel <code translate="No">AdRequestConfiguration</code>班級。</li>
	<li>聽著<code translate="No">FreeWheelEventType.WILL_SUBMIT_AD_REQUEST</code>事件。在這裡，您將獲得FreeWheel控制器並設置前置廣告，前置廣告，前置廣告和重疊式廣告位。</li>
</ol>

<h4>尋找無廣告</h4> 
<p>如果您想在用戶搜索視頻時禁用廣告播放，請參閱<a href="https://sdks.support.brightcove.com/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">尋找無廣告</a>代碼片段。</p>

<h4>程式碼範例</h4>
<p>以下是完整的代碼示例：</p>
<ul>
		<li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelSampleApp/src/main">基本的FreeWheel播放器</a></p>
    </li>
    <li>
      <p><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/FreeWheelWidevineModularSampleApp/src/main">FreeWheel Widevine模塊化播放器</a>：將客戶端廣告與內容保護結合在一起。</p>
    </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="iOS_Implementation">iOS實施</h2>

<p>適用於 iOS 的原生 SDK 通過以下技術支持 VMAP、VAST、服務器端廣告規則和隨播廣告：</p>

<h3>Google IMA</h3>

<p>有關安裝，快速啟動和使用的詳細信息，請參閱<a href="/ios/reference/plugins/ima/index.html">適用於iOS的IMA插件Brightcove Player SDK</a>參考。</p>

<p>請按照以下步驟使用Google IMA Ads：</p>

<ol class="bcls-tasklist-restart">
	<li>找到並查看<a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">基本的IMA播放器</a>示例應用程序。</li>
	<li>打開<strong>ViewController</strong>文件。</li>
	<li>
	<p>使用您的值自定義項目。從 Video Cloud 庫中檢索內容需要以下值：</p>

	<ul>
		<li>播放API政策金鑰</li>
		<li>帳戶ID</li>
		<li>視頻標識</li>
	</ul>
	</li>
	<li>
	<p>包含用於訪問您的IMA廣告的值：</p>

	<ul>
		<li>發布者編號</li>
		<li>語</li>
		<li>廣告代碼網址</li>
	</ul>
	</li>
	<li>創建<code translate="No">playbackController</code>使用適當的IMA設置，包括廣告請求策略（VAST，VMAP或服務器端廣告規則）。</li>
	<li>BCOVIMA插件通過生命週期事件發出廣告事件。這些事件定義在<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima/blob/master/ios/BrightcoveIMA.framework/Headers/BCOVIMAComponent.h">BCOVIMA組件.h</a>文件。</li>
	<li>示例應用程序包含在廣告播放時隱藏播放器控件並在廣告播放完畢時顯示這些控件的功能。</li>
</ol>

<h4>尋找無廣告</h4> 
<p>如果您想在用戶搜索視頻時禁用廣告播放，請參閱<a href="https://github.com/brightcove/brightcove-player-sdk-ios-ima#seek-without-ads">尋找無廣告</a>插件參考部分。</p>

<h4>程式碼範例</h4>
<p>以下是完整的代碼示例：</p>
<ul>
		<li><p><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/BasicIMAPlayer">基本的IMA播放器</a></p></li>
    <li><p><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/IMA/FairPlayIMAPlayer">帶有FairPlay的基本IMA播放器</a>：將客戶端廣告與內容保護結合在一起。</p></li>
    
</ul>

<h3>飛輪</h3>

<p>Freewheel AdManager SDK 不是使用 CocoaPods 安裝的。相反，您必須手動將其添加到項目的應用程序目標中。</p>

<p>請按照以下步驟使用FreeWheel廣告：</p>

<ol class="bcls-tasklist-restart">
	<li>將FreeWheel AdMananger SDK手動添加到您的項目中。有關詳細步驟，請參見《 Battle Freewheel Player's <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel">自述文件</a>文件。</li>
	<li>找到並查看<a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel/BasicFreewheelPlayer">基本的FreeWheel播放器</a>示例應用程序。</li>
	<li>打開<strong>ViewController</strong>文件。</li>
	<li>
	<p>使用您的值自定義項目。從 Video Cloud 庫中檢索內容需要以下值：</p>

	<ul>
		<li>播放API政策金鑰</li>
		<li>帳戶ID</li>
		<li>視頻標識</li>
	</ul>
	</li>
	<li>創建FreeWheel AdManager。這將負責所有廣告上下文。</li>
	<li>使用廣告上下文策略創建會話提供程序和播放控制器。</li>
	<li>使用您自己的FreeWheel配置值自定義項目。參考<a href="https://www.freewheel.com/">FreeWheel文檔</a>或聯繫您的FreeWheel客戶經理。</li>
	<li>配置廣告視圖，廣告控件和隨播廣告位。</li>
</ol>
<h4>尋找無廣告</h4> 
<p>如果您想在用戶搜索視頻時禁用廣告播放，請參閱<a href="https://github.com/brightcove/brightcove-player-sdk-ios-fw#seek-without-ads">尋找無廣告</a>插件參考部分。</p>

<h4>程式碼範例</h4>
<p>這是完整的代碼示例：</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Freewheel">基本的飛輪手</a></li>
</ul>
</section>
</article>