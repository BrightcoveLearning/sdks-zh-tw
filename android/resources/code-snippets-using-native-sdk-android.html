---
title: '使用適用於 Android 的本機 SDK 的代碼片段' 
description:在本主題中，您將找到一系列代碼片段，這些片段在使用SDK進行開發時可用作參考。有關更詳細的解決方案，請參閱<a href="https://github.com/BrightcoveOS/android-player-samples">Android 播放器示例</a> .
parent: Resources 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h3 id="top">目錄</h3>
<details style="padding:0;">
    <summary>廣告</summary>
    <ul>
      <li><a href="#Preload_IMA_ads">預載IMA廣告</a></li>
      <li><a href="#Seek_without_ads">尋找無廣告</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>分析</summary>
    <ul>
      <li><a href="#Google_analytics">谷歌分析</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>字幕</summary>
    <ul>
      <li><a href="#Setting_captions_and_themes">設置標題和主題</a></li>
      <li><a href="#Setting_default_captions">設置默認字幕</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>概念</summary>
    <ul>
      <li><a href="#Methods_synchronous_or_asynchronous">方法：同步還是異步？</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>內容安全性（DRM）</summary>
    <ul>
      <li><a href="#Manually_adding_DRM_content">手動添加DRM內容</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>即時串流</summary>
    <ul>
      <li><a href="#Getting_duration_for_live_streams">獲取實時流的持續時間</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>播放</summary>
    <ul>
      <li><a href="#Detecting_Network_Bandwidth">檢測網絡帶寬</a></li>
      <li><a href="#Getting_the_ExoPlayer_instance">獲取ExoPlayer實例</a></li>
      <li><a href="#Offline_playback_with_DRM">使用DRM進行離線播放</a></li>
      <li><a href="#Paging_with_the_Playback_API">使用播放API分頁</a></li>
      <li><a href="#Playing_local_videos">播放本地視頻</a></li>
      <li><a href="#Setting_the_buffer_size">設置緩衝區大小</a></li>
      <li><a href="#Setting_the_peak_bitrate">設置峰值比特率</a></li>
      <li><a href="#Setting_the_playback_rate">設置播放速率</a></li>
      <li><a href="#Setting_VR_Goggles_mode_for_360_videos">為 360° 視頻設置 VR Goggles 模式</a></li>
      <li><a href="#Starting_playback_in_the_middle_of_a_video">在視頻中間開始播放</a></li>
      <li><a href="#Swapping_videos">交換視頻</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>播放器控制</summary>
    <ul>
      <li><a href="#Customizing_controls_for_Android_TV">自定義Android TV的控件</a></li>
      <li><a href="#Fullscreen_mode">全屏模式</a></li>
      <li><a href="#Mute_unmute_the_player">播放器靜音/取消靜音</a></li>
      <li><a href="#Positioning_player_controls_on_the_bottom">將播放器控件定位在底部</a></li>
      <li><a href="#Showing_player_controls">顯示播放器控件</a></li>
      <!--				  <li><a href="#singleline">Showing single line controls</a></li>-->
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>播放清單</summary>
    <ul>
      <li><a href="#Switching_between_videos_in_a_playlist">在播放列表中的視頻之間切換</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>視頻內容</summary>
    <ul>
      <li><a href="#Getting_URL_for_thumbnail_images">獲取縮略圖的URL</a></li>
      <li><a href="#Loading_a_remote_video_and_poster_image">加載遠程視頻和海報圖像</a></li>
      <li><a href="#Showing_hiding_video_still_images">顯示/隱藏視頻靜止圖像</a></li>
    </ul>
</details>
<br/>
</section>

<section class="bcls-section">
<h2 id="Customizing_controls_for_Android_TV">自定義Android TV的控件</h2>

<p>您可以向設備或 Android TV 的控制欄添加按鈕。以下步驟將引導您向 Android TV 的控制欄添加全屏按鈕：</p>

<ol class="bcls-tasklist-restart">
	<li>打開<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/CustomizedControlsSampleApp">定制控件</a>示例應用程序。我們將以此為起點。查看示例應用程序的<a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/README.md">自述文件</a>文件以獲取有關自定義播放器控件的詳細信息。</li>
	<li>打開<strong>RES /佈局/土地/my_media_controller.xml</strong> Android Studio中的文件。</li>
	<li>複製<code translate="No">Button</code>的元素<code translate="No">full_screen</code>按鈕。代碼應該類似於：
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/layout-land/my_media_controller.xml">&lt;Button
style="@style/BorderlessButton"
android:id="@id/full_screen"
android:padding="4dp"
android:layout_gravity="center_vertical"
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:visibility="visible"
android:text="@string/brightcove_controls_enter_full_screen"/&gt;</a></code></pre>
	</li>
	<li>打開<strong>RES /佈局/my_tv_media_controller.xml</strong> Android Studio中的文件。</li>
	<li>粘貼複製的<code translate="No">Button</code>元素放入此佈局文件。元素的位置決定了它們在控制欄中的位置。</li>
	<li>滾動到頂部<strong>res/layout/my_tv_media_controller.xml</strong>文件。確保將style屬性設置為<code translate="No">@style/BrightcoveControlBar.TV.Custom</code>。代碼應如下所示：
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;com.brightcove.player.mediacontroller.BrightcoveControlBar
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:bmc="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
tools:ignore="Overdraw, InconsistentLayout"
android:id="@+id/brightcove_control_bar"
android:background="@color/bmc_background"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:padding="8dp"

android:orientation="horizontal"
android:layout_gravity="bottom"
<span class="bcls-highlight">    style="@style/BrightcoveControlBar.TV.Custom"&gt;</span></code></pre>
	</li>
	<li>打開<strong>res / values / styles.xml</strong> Android Studio中的文件。</li>
	<li>到<code translate="No">style</code>元素與<code translate="No">name</code>的價值<code translate="No">BrightcoveControlBar.TV.Custom</code>，添加一個<code translate="No">item</code>全屏按鈕的元素並將其設置為<code translate="No">true</code>來顯示它。
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/values/styles.xml">&lt;style name="BrightcoveControlBar.TV.Custom"&gt;
&lt;item name="brightcove_vr_mode"&gt;false&lt;/item&gt;
<span class="bcls-highlight">  &lt;item name="brightcove_full_screen"&gt;true&lt;/item&gt;</span>
&lt;/style&gt;</a></code></pre>
	</li>
	<li>就是這樣。在 Android TV 物理或虛擬設備上運行示例應用。您應該會在控制欄中看到全屏按鈕。
	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Fullscreen button" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/android_tv_fullscreen.png" />
	<figcaption class="bcls-caption--image">全屏按鈕</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Fullscreen_mode">全屏模式</h2>

<p>您可以使用代碼管理全屏模式。</p>

<ul>
	<li>
	<p>這是設置全屏模式的代碼：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ENTER_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.ENTER_FULL_SCREEN);</a></code></pre>
	</li>
	<li>
	<p>這是退出全屏模式的代碼：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#EXIT_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.EXIT_FULL_SCREEN);</a></code></pre>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Getting_duration_for_live_streams">獲取實時流的持續時間</h2>

<p>要獲取直播的持續時間，您可以使用<a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION"><code translate="No">MAX_POSITION</code></a> .這為您提供了實時流的最大可搜索位置（即，您可以拖動滾動條的最遠位置）。您的代碼應該類似於：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION">brightcoveVideoView.getEventEmitter().on(EventType.PROGRESS, new EventListener() {
  @Override
  public void processEvent(Event event) {
  int duration = (int) event.properties.get(Event.MAX_POSITION);
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Detecting_Network_Bandwidth">檢測網絡帶寬</h2>
<p>在某些用例中，您可能需要檢測應用內的網絡帶寬，例如在處理下載時。</p>

<p>為了檢測帶寬，Android 原生 SDK 使用<code translate="No">BandwidthMeter</code> ExoPlayer 提供的類。我們的<code translate="No">PlayerBandwidthMeter</code>類使用<code translate="No">BandwidthMeter</code>類並提供<code translate="No">getBitrateEstimate</code>方法返回估算的比特率。</p>

<p>有關詳細信息，請參見以下內容：</p>
<ul>
  <li><a href="/android/reference/javadoc/com/brightcove/player/network/PlayerBandwidthMeter.html">Brightcove PlayerBandwidthMeter類</a></li>
  <li><a href="https://medium.com/google-exoplayer/https-medium-com-google-exoplayer-simplified-bandwidth-meter-usage-17d8189f978b">郵政：簡化的帶寬計使用</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html">ExoPlayer BandwidthMeter界面</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html">ExoPlayer BandwidthMeter.EventListener接口</a></li>
</ul>

<p>這是一個例子：</p>
<pre class="line-numbers">
<code class="language-java" translate="No">ExoPlayerVideoDisplayComponent exoPlayer = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
exoPlayer.getBandwidthMeter().addEventListener(myHandler, new BandwidthMeter.EventListener() {@
	Override public void onBandwidthSample(int elapsedMs, long bytesTransferred, long bitrateEstimate) {}
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Getting_the_ExoPlayer_instance">獲取ExoPlayer實例</h2>

<p>有時您可能需要獲取 ExoPlayer 對象來修改未通過 Brightcove Native SDK 公開的屬性。設置視頻後，將創建此對象的實例。所以，你需要等待<code translate="No">DID_SET_VIDEO</code>事件。</p>

<p>您可以通過執行以下操作來獲取 ExoPlayer 實例：</p>

<pre class="line-numbers">
<code class="language-java" translate="No">// Get the ExoPlayer instance
eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    VideoDisplayComponent videoDisplayComponent = brightcoveVideoView.getVideoDisplay();
    if (videoDisplayComponent instanceof ExoPlayerVideoDisplayComponent) {
      // Get ExoPlayer
      ExoPlayer exoPlayer = ((ExoPlayerVideoDisplayComponent) videoDisplayComponent).getExoPlayer();
      if (exoPlayer instanceof SimpleExoPlayer) {
        // Get SimpleExoPlayer
        SimpleExoPlayer simpleExoPlayer = (SimpleExoPlayer) exoPlayer;
        Log.v(TAG, "onDID_SET_VIDEO: ExoPlayer = " + simpleExoPlayer);
      }
    }
  }
});</code></pre>

<p>有關修改示例<code translate="No">AudioAttribute</code> ExoPlayer的屬性，請參見<a href="https://groups.google.com/forum/#!topic/brightcove-native-player-sdks/-bbFKw3fOtk">在Exoplayer實例上設置AudioAttributes</a>論壇帖子。</p>
</section>

<section class="bcls-section">
<h2 id="Getting_URL_for_thumbnail_images">獲取縮略圖的URL</h2>

<p>您可能想要使用 Brightcove 庫中的縮略圖或視頻靜止圖像。使用以下代碼獲取圖像的 URL：</p>

<p>對於使用Edge Catalog（com.brightcove.player.edge.Catalog）的Video Cloud客戶，您可以獲取像這樣的縮略圖URL：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String thumbnailUrl = video.getProperties().get("thumbnail").toString();</a></code></pre>

<p>如果發現縮略圖圖像太小，則可以獲取視頻靜止圖像：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String videoStillUrl = video.getProperties().get("stillImageUri").toString();</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Google_analytics">谷歌分析</h2>

<p>如果您使用Brightcove播放器和目錄類，則將自動收集視頻分析並將其顯示在“視頻雲分析"模塊中。有關其他指標，您可以將Google Analytics（分析）添加到您的應用中。</p>

<p>要將 Google Analytics 與您的應用程序集成，請按以下步驟操作：</p>

<ol class="bcls-tasklist-restart">
	<li>將Google Services插件添加到您的項目中。</li>
	<li>獲取一個Google配置文件並將其添加到您的項目中。</li>
	<li>擴展應用程序並提供一個幫助程序方法，該方法返回您的應用程序跟踪器。它看起來應該類似於<a href="https://github.com/googlesamples/google-services/blob/master/android/analytics/app/src/main/java/com/google/samples/quickstart/analytics/AnalyticsApplication.java">google-Services AnalyticsApplication</a>。</li>
	<li>在擴展BrightcovePlayer的單獨類中，獲取共享的跟踪器實例：
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">// Obtain the shared Tracker instance
AnalyticsApplication application = (AnalyticsApplication) getApplication();
tracker = application.getDefaultTracker();</a></code></pre>
	</li>
	<li>覆蓋記錄屏幕變化和/或發送自定義事件以進行跟踪的適當方法。</li>
</ol>

<p>有關詳細步驟，請參閱Google的文檔以<a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">將分析功能添加到您的Android應用</a>。</p>
</section>

<section class="bcls-section">
<h2 id="Loading_a_remote_video_and_poster_image">加載遠程視頻和海報圖像</h2>

<p>僅Brightcove Player客戶使用來自遠程服務器的視頻資產。請按照以下步驟加載位於遠程服務器上的視頻和海報圖像：</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>在裡面<code translate="No">onCreate()</code>方法，在定義視頻視圖後，從託管在遠程服務器上的視頻創建視頻對象。設置<code translate="No">DeliveryType</code>以匹配您擁有的視頻類型。</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>在視頻播放開始之前，加載遠程圖像作為海報圖像。</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>將視頻添加到視圖中，然後開始播放視頻。</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p>檢查以確保您的<code translate="No">onCreate()</code>方法出現如下：</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Manually_adding_DRM_content">手動添加DRM內容</h2>

<p>作為Brightcove Player客戶，您可能希望使用自己服務器中受DRM保護的內容。您可以手動加載 DRM 內容，如下所示：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/drm/WidevineMediaDrmCallback.html">import com.brightcove.player.display.WidevineMediaDrmCallback;

Video video = Video.createVideo("https://storage.googleapis.com/wvmedia/cenc/h264/tears/tears.mpd");
video.getProperties().put(WidevineMediaDrmCallback.DEFAULT_URL, "https://proxy.uat.widevine.com/proxy?video_id=&amp;provider=widevine_test");
brightcoveVideoView.add(video);
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">您無需在 Brightcove 庫中手動加載 DRM 內容。</aside>
</section>

<section class="bcls-section">
<h2 id="Methods_synchronous_or_asynchronous">方法：同步還是異步？</h2>

<p>以下是在適用於Android的Native Player SDK中找到的一些異步方法：</p>

<ul>
	<li>這<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#start()"><code translate="No">start()</code></a> , <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SEEK_TO"><code translate="No">seekTo()</code></a>和<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#stopPlayback()"><code translate="No">stopPlayback()</code></a>方法是異步的，因為它們發出一個事件供系統中的其他組件處理。</li>
	<li>這<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>方法在更新列表方面是同步的，但在卸載當前視頻方面是異步的。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Mute_unmute_the_player">播放器靜音/取消靜音</h2>

<p>您可以以編程方式將播放器靜音或取消靜音。Brightcove建議盡可能使用BrightcoveExoPlayerVideoView。</p>

<aside class="bcls-aside bcls-aside--information">您需要等待<code translate="No">DID_SET_VIDEO</code>或者<code translate="No">DID_PLAY</code>在執行使播放器靜音的代碼之前的事件。否則，靜音將不會生效。等待這些事件的原因是在加載視頻時創建了播放器。</aside>

<h3 id="BrightcoveExoPlayerVideoView">BrightcoveExoPlayerVideoView</h3>

<p>當使用<a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveExoPlayerVideoView.html">BrightcoveExoPlayerVideoView</a>，您可以通過執行以下操作以編程方式將播放器靜音或取消靜音：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 100F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 100F;
  Map&lt;string, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>

<h3 id="BrightcoveVideoView">BrightcoveVideoView</h3>

<aside class="bcls-aside bcls-aside--warning">Brightcove 建議使用 BrightcoveExoPlayerVideoView。</aside>

<p>如果您需要使用<a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">BrightcoveVideoView</a>，它使用Android的<a href="https://developer.android.com/reference/android/media/MediaPlayer.html">媒體播放器</a>，您可以使用以下代碼以編程方式使播放器靜音或取消靜音：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 1F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 1F;
  Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.LEFT_VOLUME, volume);
  properties.put(Event.RIGHT_VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Offline_playback_with_DRM">使用DRM進行離線播放</h2>

<p>對於下載用於脫機播放的視頻，下載狀態也可以顯示在通知區域中。通知標題設置為視頻標題。如果下載暫停或取消，通知將被刪除。</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">下載通知狀態</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>下載狀態</th>
			<th>通知內容文字</th>
			<th>通知圖標</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>正在下載</td>
			<td><code translate="No">R.string.odrm_download_running</code> - 默認情況下這是“正在下載...”<br />
			<br />
			將有一個進度條顯示完成百分比。</td>
			<td>平台默認的動畫“下載”圖標 - <code translate="No">android.R.drawable.stat_sys_download</code></td>
		</tr>
		<tr>
			<td>重試</td>
			<td><code translate="No">R.string.odrm_download_waiting_retry</code> -默認情況下，這是“等待重試..."</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>失敗的</td>
			<td><code translate="No">R.string.odrm_download_failed</code> -默認情況下為“失敗！"</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>完全的</td>
			<td><code translate="No">R.string.odrm_download_complete</code> -默認情況下為“已保存"</td>
			<td>平台默認的靜態“已下載”圖標 - <code translate="No">android.R.drawable.stat_sys_download_done</code></td>
		</tr>
	</tbody>
</table>

<p>對於“重試"或“失敗"的狀態，通知子文本將根據錯誤類型設置為適當的資源。以下是完整列表：</p>

<ul>
	<li><code translate="No">R.string.odrm_error_none</code></li>
	<li><code translate="No">R.string.odrm_error_cannot_resume</code></li>
	<li><code translate="No">R.string.odrm_error_device_not_found</code></li>
	<li><code translate="No">R.string.odrm_error_file_already_exists</code></li>
	<li><code translate="No">R.string.odrm_error_file_error</code></li>
	<li><code translate="No">R.string.odrm_error_http_data_error</code></li>
	<li><code translate="No">R.string.odrm_error_insufficient_space</code></li>
	<li><code translate="No">R.string.odrm_error_too_many_redirects</code></li>
	<li><code translate="No">R.string.odrm_error_unhandled_http_code</code></li>
	<li><code translate="No">R.string.odrm_error_unknown</code></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Paging_with_the_Playback_API">使用播放API分頁</h2>

<p>從 Playback API 檢索您的 Video Cloud 內容時，您可以為播放列表實現分頁。</p>

<p>要瀏覽播放列表中的一組視頻，請使用以下請求 URL 參數：</p>

<ul>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">limit</a></code> -定義要從Playback API返回的視頻數</li>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">offset</a></code> -設置要從Playback API播放列表中跳過的視頻數</li>
</ul>

<p>查詢參數將作為<code translate="No">Map</code>對象，作為鍵值對。此示例返回從播放列表中的第 10 個視頻開始的 6 個視頻：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">Map&lt;String, String&gt; queryParameters = new HashMap&lt;&gt;();
queryParameters.put("limit", "6");
queryParameters.put("offset", "9");

Catalog catalog = new Catalog(eventEmitter, "myAccount", "myPolicy");
catalog.findPlaylistByID("myPlaylistId", null, queryParameters, myListener);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Playing_local_videos">播放本地視頻</h2>

<p>如果要播放本地存儲的MP4視頻，則應將其保存在應用程序資產文件夾中。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Uri video = Uri.parse("file:///android_asset/path/to/video.mp4");
brightcoveVideoView.add(Video.createVideo(video.toString()));
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">如果您嘗試播放存儲在應用程序資源文件夾 (/res/raw) 中的 MP4 視頻，您可能會收到異常錯誤。</aside>
</section>

<section class="bcls-section">
<h2 id="Positioning_player_controls_on_the_bottom">將播放器控件定位在底部</h2>

<p>默認情況下，播放器控制欄位於視頻的正下方，如下所示：</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls under video" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-video.png" />
<figcaption class="bcls-caption--image">視頻下的播放器控件</figcaption>
</figure>

<p>您還可以定位播放器控制欄，使其位於視頻視圖的底部。因為控件是<code translate="No">BrightcoveVideoView</code>，將高度設置為<code translate="No">match_parent</code>，該視圖將覆蓋整個屏幕。當控件出現在視圖底部時，視頻將保留在視圖中間。</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls bottom" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-bottom.png" />
<figcaption class="bcls-caption--image">播放器控制視頻視圖的底部</figcaption>
</figure>

<p>有兩種方法可以做到這一點。第一種方法如下：</p>

<ol class="bcls-tasklist-restart">
	<li>打開<strong>main / res / values / style.xml</strong>文件為您的項目。</li>
	<li>
	<p>添加以下XML代碼：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;style name="BrightcoveControlBar" parent="BrightcoveControlBarDefault"&gt;
  &lt;item name="brightcove_align"&gt;false&lt;/item&gt;
&lt;/style&gt;</code></pre>
	</li>
</ol>

<p>或者，您可以在<strong>MainActivity.java</strong>文件如下：</p>

<ol class="bcls-tasklist-restart">
	<li>打開<strong>MainActivity.java</strong>文件為您的項目。</li>
	<li>
	<p>獲取事件發射器之後，如下所示：</p>

	<pre>
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();</code></pre>

	<p>添加以下事件偵聽器和代碼。我們在等待之後<code translate="No">DID_SET_VIDEO</code>事件以確保已創建控制欄。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    BrightcoveControlBar brightcoveControlBar = brightcoveVideoView.getBrightcoveMediaController().getBrightcoveControlBar();
    brightcoveControlBar.setAlign(false);
    }
});</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Preload_IMA_ads">預載IMA廣告</h2>

<p>要使用適用於 Android 的原生 SDK 和 IMA 插件預加載廣告，請使用<code translate="No">setEnablePreloading(true)</code>財產 。</p>

<aside class="bcls-aside bcls-aside--information">請注意，這僅適用於單個 VAST 前貼片廣告。</aside>

<p>要使用此屬性，請執行以下步驟：</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>出發點是<a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">IMA 示例應用</a> .</p>
	</li>
	<li>
	<p>找到<code translate="No">private void setupGoogleIMA()</code>功能。</p>
	</li>
	<li>
	<p>在功能的最後代碼行之前添加代碼段代碼塊。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">ImaSdkSettings imaSdkSettings = sdkFactory.createImaSdkSettings();
AdsRenderingSettings adsRenderingSettings =
ImaSdkFactory.getInstance().createAdsRenderingSettings();
adsRenderingSettings.setEnablePreloading(true);</code></pre>
	</li>
	<li>
	<p>添加<code translate="No">adsRenderingSettings</code>最後一行代碼的參數。</p>

	<pre>
<code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent(brightcoveVideoView, eventEmitter, true, adsRenderingSettings);</code></pre>
	</li>
</ol>

<h2 id="Seek_without_ads">尋找無廣告</h2>

<p>您可以使用<code translate="No">adsDisabled</code>財產為<code translate="No">VideoPlaybackController</code>在您搜索視頻時禁用廣告播放。</p>

<aside class="bcls-aside bcls-aside--tip">此功能適用於所有 Brightcove 廣告插件，包括 SSAI 和用於 CSAI 的插件。有關插件詳細信息，請參閱<a href="https://sdks.support.brightcove.com/android/basics/overview-brightcove-player-sdk-android.html#Integrations">用於 Android 集成的原生 SDK</a>部分。</aside>
<!-- <aside class="bcls-aside bcls-aside--information">
<ul>
	<li>As of the Native SDK for Android v4.10.0, this feature is also supported with the FreeWheel plugin.</li>
</ul>
</aside> -->

<p>要使用此功能，請按照下列步驟操作：</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>得到<code translate="No">VideoPlaybackController</code>來自的實例<code translate="No">BrightcoveVideoView</code>。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();</code></pre>
	</li>
	<li>
	<p>禁用廣告播放。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(true);</code></pre>
	</li>
	<li>在當前視頻中尋找所需的時間位置。</li>
	<li>
	<p>恢復正常的廣告行為。</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(false);</code></pre>
	</li>
</ol>

<p>您的代碼應如下所示：</p>

<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">final VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();
eventEmitter.on(EventType.VIDEO_DURATION_CHANGED, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(true);
    brightcoveVideoView.seekTo(10000);
  }
});

eventEmitter.on(EventType.DID_SEEK_TO, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(false);
  }
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_buffer_size">設置緩衝區大小</h2>

<p>如果下一個片段的交付從 CDN 延遲，您可以考慮增加緩衝區長度以消除播放器中的緩衝。但是，您可能無法手動完成HLS已經完成的任何操作。</p>

<p>HLS旨在立即播放並在無法跟上時降低音質。這樣，它不需要預加載緩衝區。如果無法跟上，它將以最佳質量加載盡可能多的視頻，以防止中斷。</p>

<p>從適用於 Android v6.3.1 的 Native SDK 開始，以下類已添加到用於 ExoPlayer 2 實現的 SDK：</p>

<ul>
	<li><code translate="No">LoadControlConfig</code></li>
	<li><code translate="No">AllocatorConfig</code></li>
</ul>

<p>這些類中設置的值用於創建 ExoPlayer <code translate="No">DefaultLoadControl</code>對象，用於創建 ExoPlayer 實例。開發人員可以按以下方式控制緩衝區大小：</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>這<code translate="No">LoadControlConfig</code>和<code translate="No">AllocatorConfig</code>類遵循 Builder 模式。您可以在兩個類中設置的值反映了您可以在其構造函數中設置的值。</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">AllocatorConfig allocatorConfig = new AllocatorConfig.Builder().build();
LoadControlConfig loadControlConfig = new LoadControlConfig.Builder()
.setAllocatorConfig(allocatorConfig)
.setMinBufferMs(X)
.setMaxBufferMs(Y)
.build();</code></pre>
	</li>
	<li>
	<p>未在構建器中設置的值將使用默認值。使用<code translate="No">ExoPlayerVideoDisplayerComponent.setLoadControlConfig()</code>設置方法<code translate="No">LoadControlConfig</code> .</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
...
ExoPlayerVideoDisplayComponent dc = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
dc.setLoadControlConfig(loadControlConfig);</code></pre>
	</li>
</ol>
<!-- <p>That being said, if you are using the ExoPlayer 1 implementation, you can control the following:</p>

<aside class="bcls-aside bcls-aside--warning">The following methods are only available with the ExoPlayer 1 implementation. These methods are deprecated with the ExoPlayer 2 implementation. For details, see the <a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html">ExoPlayerVideoDisplayComponent class</a> reference.</aside>

<ul>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferDurationToSwitchUp</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">maxBufferDurationToSwitchDown</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferMs</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minRebufferMs</code></a></li>
</ul>

<p>For example, if you want to set the buffer length to 120 seconds, you could set <code translate="No">minBufferMs</code> to <code translate="No">120 * 1000</code>.</p> --></section>

<section class="bcls-section">
<h2 id="Setting_captions_and_themes">設置標題和主題</h2>

<p>目前，<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>是在Brightcove Player SDK的清單文件中設置的，因此開發人員無需在其應用程序中指定它：</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
xmlns:android="http://schemas.android.com/apk/res/android"
package="com.brightcove.player"
android:versionCode="1"
android:versionName="1.0"&gt;

&lt;application&gt;
&lt;!-- If we don't register this Activity in the Manifest, apps using the SDK will crash when they try to access it. --&gt;
&lt;!-- During the app's build process, this manifest will be merged with the app-level one. --&gt;
<span class="bcls-highlight">&lt;activity android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"/&gt;</span>
&lt;/application&gt;
&lt;/manifest&gt;</a></code></pre>

<p>這<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>將繼承平台默認主題，只要您在<code translate="No">&lt;activity&gt;</code>應用程序清單中的級別。</p>

<p>如果您在<code translate="No">&lt;application&gt;</code>水平，然後<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>將繼承此應用程序級主題的屬性。對於某些主題，這可能會導致該活動的樣式看起來奇怪，甚至難以辨認。</p>

<p>在這種情況下，您應指定<a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a>在您自己的清單中並在其中應用主題，如下所示：</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;activity
<span class="bcls-highlight">android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"</span>
android:theme="@style/MyCustomCaptionSettingsTheme"/&gt;</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_default_captions">設置默認字幕</h2>

<p>如果您的視頻使用多種語言字幕，則可以在開始播放時以編程方式設置默認語言。您的代碼應該類似於：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)">brightcoveVideoView.getEventEmitter().once(EventType.CAPTIONS_LANGUAGES, new EventListener() {
  @Override
  public void processEvent(Event event) {
    brightcoveVideoView.setClosedCaptioningEnabled(true);
    brightcoveVideoView.setSubtitleLocale("fr");
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_peak_bitrate">設置峰值比特率</h2>

<p>為了幫助您在播放器中實現比特率選擇器，您可以使用以下代碼來設置峰值比特率：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html#setPeakBitrate-int-">((ExoPlayerVideoDisplayComponent) videoView.getVideoDisplay()).setPeakBitrate(bitRate);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_playback_rate">設置播放速率</h2>

<p>ExoPlayer 支持對 Android 設備上播放的視頻進行播放速度調整。有關詳細信息，請參見Google的<a href="https://medium.com/google-exoplayer/variable-speed-playback-with-exoplayer-e6e6a71e0343">使用ExoPlayer進行變速播放</a>文檔。</p>

<p>您可以使用以下代碼控製播放速度：</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_PLAY, new EventListener() {
  @Override
  public void processEvent(Event event) {

    //Get instance of ExoPlayer2
    ExoPlayerVideoDisplayComponent displayComponent = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
    ExoPlayer exoPlayer = displayComponent.getExoPlayer();

    //Set playback speed
    PlaybackParameters param = new PlaybackParameters(1.6f, 1.0f);
    exoPlayer.setPlaybackParameters(param);
  }
});</code></pre>
<aside class="bcls-aside bcls-aside--tip">要了解如何顯示供觀眾選擇播放速率的菜單，請參閱<a href="/android/playback/setting-playback-speed-android.html">在 Android 設備上設置播放速度</a>文檔。</aside>
</section>

<section class="bcls-section">
<h2 id="Setting_VR_Goggles_mode_for_360_videos">為 360° 視頻設置 VR Goggles 模式</h2>

<p>播放 360° 視頻時，用戶可以選擇控制欄上的 Video 360 按鈕切換到 VR Goggles 模式。如果您正在使用<code translate="No">BrightcovePlayer</code>或者<code translate="No">BrightcovePlayerFragment</code>活動，則在啟用VR護目鏡模式後，屏幕方向將變為橫向。</p>

<p>如果使用自定義活動，則需要添加以下內容：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#REQUESTED_ORIENTATION">brightcoveVideoView.getEventEmitter().on(EventType.CHANGE_ORIENTATION, new EventListener() {
  @Override
  public void processEvent(Event event) {
    int orientation = event.getIntegerProperty(Event.REQUESTED_ORIENTATION);
    setRequestedOrientation(orientation);
  }
});</a></code></pre>

<aside class="bcls-aside bcls-aside--information">在包含上述代碼的方法中，必須添加<code translate="No">@SuppressWarnings("ResourceType")</code>到方法。</aside>
</section>

<section class="bcls-section">
<h2 id="Showing_hiding_video_still_images">顯示/隱藏視頻靜止圖像</h2>

<p>從 Video Cloud 庫中檢索視頻時的默認行為是在播放開始之前顯示視頻靜止圖像。</p>

<h3>顯示視頻靜止圖像</h3>

<p>您可以隨時通過發出<a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VIDEO_STILL"><code translate="No">SET_VIDEO_STILL</code></a>事件與<a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#VIDEO_STILL"><code translate="No">VIDEO_STILL</code></a>屬性設置為視頻靜止圖像的 URI。</p>
<!-- <p>Hiding should happen automatically whenever a <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#CUE_POINT"><code translate="No">CUE_POINT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_PLAY"><code translate="No">DID_PLAY</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_SEEK_TO"><code translate="No">DID_SEEK_TO</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#WILL_INTERRUPT_CONTENT"><code translate="No">WILL_INTERRUPT_CONTENT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ACTIVITY_STOPPED"><code translate="No">ACTIVITY_STOPPED</code></a>, or <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#FRAGMENT_STOPPED"><code translate="No">FRAGMENT_STOPPED</code></a> event occurs.</p> --><!-- <p>In general, we try to promote doing things via events, rather than direct method calls.</p>  -->

<h3>隱藏視頻靜止圖像</h3>

<p>如果要自動播放視頻，則可能要隱藏視頻靜止圖像。為此，您可以收聽<code translate="No">SET_VIDEO_STILL</code>事件並防止默認行為如下：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">brightcoveVideoView.getEventEmitter().on(EventType.SET_VIDEO_STILL, new EventListener() {
  @Override
  public void processEvent(Event event) {
    event.preventDefault();
    event.stopPropagation();
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Showing_player_controls">顯示播放器控件</h2>

<p>默認情況下，播放器控件將在幾秒鐘後消失。用戶可以通過點擊視頻來顯示控件。</p>

<p>如果希望播放器控件在用戶點擊視頻之前一直保持顯示狀態，則可以按以下方式禁用自動隱藏功能：（突出顯示所需的代碼）</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/mediacontroller/BrightcoveMediaController.html">public class MainActivity extends BrightcovePlayer {
  <span class="bcls-highlight">private BrightcoveMediaController controller;</span>

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

<span class="bcls-highlight">    controller = new BrightcoveMediaController(brightcoveVideoView);
    controller.setShowHideTimeout(0);</span>

    super.onCreate(savedInstanceState);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Starting_playback_in_the_middle_of_a_video">在視頻中間開始播放</h2>

<p>有時，您可能需要從視頻中間的某個位置開始播放。為此，您可以調用<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)"><code translate="No">BrightCoveVideoView.seekTo()</code></a>在開始播放之前。</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
  @Override
  public void onVideo(Video video) {
    Log.v(TAG, "onVideo: video = " + video);

    brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
    @Override
      public void processEvent(Event event) {
      brightcoveVideoView.seekTo(60000);
      brightcoveVideoView.start();
      }
    });
  brightcoveVideoView.add(video);
  brightcoveVideoView.pause();
  }
});</a></code></pre>
</section>
<!--
											<div id="singleline" class="section">
													<h2>Showing single line controls</h2>
													<p>By default, the player controls will appear as a single line in landscape mode and appear stacked in portrait mode. You can override this behavior and display player controls as a single line in portrait mode.</p>
													<p>Follow these steps:</p>
													<ul>
															<li></li>
													</ul>

													<p><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)"><code data-gist-id="ac85a1305f851b406dde" data-gist-hide-footer="true" data-gist-line="115-121"></code></a></p>
											</div>
					-->

<section class="bcls-section">
<h2 id="Swapping_videos">交換視頻</h2>

<p>此示例展示了一種在播放器中交換視頻的方法。</p>

<h3>使用單個視頻</h3>

<p>由於<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>方法在卸載當前視頻時是異步的，您需要等待才能將新視頻添加到播放器。這是兩個選擇。</p>

<ul>
	<li>
	<p>由於從 Video Cloud 獲取視頻的時間應該比更新播放列表的時間相形見絀，您可以嘗試以下操作：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.clear();

catalog.findVideoByID("123456789", new VideoListener() {
  @Override
  public void onVideo(final Video video) {
    brightcoveVideoView.add(video);
    brightcoveVideoView.start();

  }
});</a></code></pre>
	</li>
	<li>
	<p>另一種方法是等待事件：</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_CHANGE_LIST">catalog.findVideoByID("", new VideoListener() {
@Override
  public void onVideo(final Video video) {
    eventEmitter.once(EventType.DID_CHANGE_LIST, new EventListener() {
    @Override
    public void processEvent(Event event)
    	{ brightcoveVideoView.add(video); brightcoveVideoView.start(); }
  });
  brightcoveVideoView.clear();
  }
});</a></code></pre>
	</li>
</ul>

<h3>使用播放列表</h3>

<p>如果您使用的是播放列表，請記住，<a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a>方法刪除播放列表中的所有元素。所以，你可能會得到一個<code translate="No">IndexOutOfBounds</code>嘗試跳轉到播放列表中的第一個視頻時出現異常。</p>

<p>相反，您可以嘗試如下操作：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.pause();
brightcoveVideoView.stopPlayback();
brightcoveVideoView.setCurrentIndex(0);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Switching_between_videos_in_a_playlist">在播放列表中的視頻之間切換</h2>

<p>如果使用播放列表，則可以使用以下代碼在播放列表中的視頻之間切換：</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Playlist.html">private void setupControls(List&lt;Video&gt; videos) {
  previousVideoButton = (Button) findViewById(R.id.previous_video_button);
  nextVideoButton = (Button) findViewById(R.id.next_video_button);

  if (videos != null) {
    previousVideoButton.setEnabled(false);
    previousVideoButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt; 1);
    nextVideoButton.setEnabled((index + 1) &lt; size);

    if (index &gt; 0) {
    brightcoveVideoView.setCurrentIndex(index - 1);
    }
  }
});

nextVideoButton.setEnabled(videos.size() &gt; 1);
nextVideoButton.setOnClickListener(new View.OnClickListener() {
  public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt;= 0);
    nextVideoButton.setEnabled((index + 2) &lt; size);

    if ((index + 1) &lt; size) {
    	brightcoveVideoView.setCurrentIndex(index + 1);
    }
  }
});
}
}</a></code></pre>
</section>
</article>